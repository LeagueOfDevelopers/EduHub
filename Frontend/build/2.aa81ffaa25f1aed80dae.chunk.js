webpackJsonp([2],{"./app/containers/Header/actions.js":function(e,t,n){"use strict";function o(e){return{type:s.b,name:e}}function r(e){return{type:s.c,payload:e||[]}}function a(e){return{type:s.a,payload:e}}t.a=o,t.c=r,t.b=a;var s=n("./app/containers/Header/constants.js")},"./app/containers/Header/constants.js":function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"c",function(){return r}),n.d(t,"a",function(){return a});var o="GET_USERS_START",r="GET_USERS_SUCCESS",a="GET_USERS_FAILED"},"./app/containers/Header/index.js":function(e,t,n){"use strict";function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments[1];switch(t.type){case b.b:return e.set("pending",!0).set("name",t.name);case b.c:return e.set("pending",!1).set("users",t.payload);case b.a:return e.set("pending",!1).set("error",!0);default:return e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{getUsers:function(t){return e(Object(h.a)(t))}}}Object.defineProperty(t,"__esModule",{value:!0});var c=n("./node_modules/react/react.js"),l=n.n(c),u=(n("./node_modules/prop-types/index.js"),n("./node_modules/react-redux/es/index.js")),d=n("./node_modules/reselect/es/index.js"),p=n("./node_modules/redux/es/index.js"),f=n("./app/utils/injectSaga.js"),m=n("./app/utils/injectReducer.js"),g=n("./app/containers/Header/selectors.js"),h=n("./app/containers/Header/actions.js"),v=n("./node_modules/immutable/dist/immutable.js"),b=n("./app/containers/Header/constants.js"),y=Object(v.fromJS)({name:"",users:[],pending:!1,error:!1}),j=o,S=n("./app/containers/Header/saga.js"),k=n("./node_modules/styled-components/dist/styled-components.es.js"),x=n("./app/globalJS.js"),C=n("./node_modules/react-router-dom/index.js"),_=n("./app/containers/SigningInForm/index.js"),I=n("./node_modules/antd/lib/index.js"),w=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,r){var a=t&&t.defaultProps,s=arguments.length-3;if(n||0===s||(n={}),n&&a)for(var i in a)void 0===n[i]&&(n[i]=a[i]);else n||(n=a||{});if(1===s)n.children=r;else if(s>1){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+3];n.children=c}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),O=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),N=I.Select.Option,H=I.Select.OptGroup,L=k.a.div.withConfig({displayName:"Header__Logo"})(["font-size: 36px;"]),T=w("div",{},void 0,"Мой аккаунт"),R=w("div",{},void 0,"Уведомления"),E=w(I.Menu.Item,{className:"unhover"},"1",w(C.Link,{className:"profile",to:"/registration"},void 0,w(I.Button,{type:"primary",htmlType:"button"},void 0,"Зарегистрироваться"))),A=w(I.Col,{span:12},void 0,"Пользователи"),P=w(C.Link,{to:"#"},void 0,"Показать больше"),U=w("div",{},void 0,"Пользователи"),V=w(I.Col,{span:12},void 0,"Группы"),M=w(C.Link,{to:"#"},void 0,"Показать больше"),B=w("div",{},void 0,"Группы"),z=w(C.Link,{className:"profile",to:"/registration"},void 0,w(I.Button,{type:"primary",htmlType:"submit"},void 0,"Зарегистрироваться")),G=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onSignInClick=function(){n.setState({signInVisible:!0})},n.handleCancel=function(){n.setState({signInVisible:!1})},n.logout=function(){localStorage.setItem("name",""),localStorage.setItem("avatarLink",""),localStorage.setItem("token",""),location.assign("/")},n.acc_menu=w(I.Menu,{},void 0,w(I.Menu.Item,{className:"menu-item"},"0",localStorage.getItem("token")?w(C.Link,{to:"/profile/"+Object(x.c)(localStorage.getItem("token")).UserId},void 0,T):null),w(I.Menu.Item,{className:"menu-item"},"1",localStorage.getItem("token")?w(C.Link,{to:"/profile/"+Object(x.c)(localStorage.getItem("token")).UserId+"/notifications"},void 0,R):null),w(I.Menu.Item,{className:"danger-menu-item menu-item"},"2",w("div",{style:{color:"red"},onClick:n.logout},void 0,"Выйти"))),n.menu=w(I.Menu,{},void 0,w(I.Menu.Item,{className:"unhover"},"0",w(I.Button,{className:"profile",style:{width:"100%"},htmlType:"button",onClick:n.onSignInClick},void 0,"Войти")),E),n.handleSelectChange=function(e){n.setState({searchValue:e}),setTimeout(function(){return n.props.getUsers(n.state.searchValue)},0)},n.state={signInVisible:!1,searchValue:""},n.logout=n.logout.bind(n),n.onSignInClick=n.onSignInClick.bind(n),n.handleCancel=n.handleCancel.bind(n),n.handleSelectChange=n.handleSelectChange.bind(n),n}return s(t,e),O(t,[{key:"render",value:function(){var e=this;return w(I.Row,{type:"flex",align:"middle",className:"header",style:{width:"100hr"}},void 0,w(I.Col,{xs:{span:8,offset:2},md:{span:4,offset:2}},void 0,w(L,{},void 0,w(C.Link,{to:"/",style:{color:"rgba(0,0,0,0.65)"}},void 0,"EduHub"))),w(I.Col,{md:{span:9,offset:1},lg:{span:7,offset:0},style:{position:"relative"}},void 0,w(I.Select,{mode:"combobox",className:"search",style:{width:"100%"},value:this.state.searchValue,placeholder:"Поиск",size:"large",defaultActiveFirstOption:!1,showArrow:!1,onChange:this.handleSelectChange,onSelect:function(){setTimeout(function(){return e.setState({searchValue:""})},0)}},void 0,w(H,{label:this.props.users.length>4?w("div",{},void 0,A,w(I.Col,{span:12,style:{textAlign:"right"}},void 0,P)):U},"1",this.props.users.map(function(e,t){return t<4?w(N,{className:"search-option-item"},e.name,w(C.Link,{className:"search-user-link",to:"/profile/"+e.id},void 0,w("div",{},void 0,e.name))):null})),w(H,{label:this.props.groups.length>4?w("div",{},void 0,V,w(I.Col,{span:12,style:{textAlign:"right"}},void 0,M)):B},"2",this.props.groups.map(function(e,t){return t<4?w(N,{},e.title,w("div",{},void 0,e.title),w("div",{},void 0,e.tags.map(function(e){return w(C.Link,{to:"",style:{marginRight:6}},void 0,e)}))):null}))),w(I.Icon,{type:"search",className:"search",style:{fontSize:20,position:"absolute",top:10,right:10,opacity:.8}})),localStorage.getItem("token")?w(I.Col,{xs:{span:12},md:{span:6},lg:{span:9},style:{display:"flex",justifyContent:"flex-end"}},void 0,w(I.Dropdown,{overlay:this.acc_menu,trigger:["click"]},void 0,w("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"center",marginLeft:"36%"}},void 0,w(I.Avatar,{src:localStorage.getItem("avatarLink"),size:"large",style:{backgroundColor:"#fff",color:"rgba(0,0,0,0.65)",minHeight:40,minWidth:40,cursor:"pointer"}}),w("span",{className:"userName",style:{whiteSpace:"nowrap",cursor:"pointer"}},void 0,localStorage.getItem("name"))))):w(I.Col,{xs:{span:12},md:{span:6},lg:{span:9},style:{display:"flex",justifyContent:"flex-end"}},void 0,w(I.Dropdown,{className:"unregistered-person",overlay:this.menu,trigger:["click"]},void 0,w("img",{className:"menu-btn",style:{width:26,cursor:"pointer"},src:n("./app/images/menu.svg"),alt:""})),w(I.Button,{className:"profile",htmlType:"button",onClick:this.onSignInClick,style:{marginRight:"4%"}},void 0,"Войти"),w(_.a,{visible:this.state.signInVisible,handleCancel:this.handleCancel}),z))}}]),t}(l.a.PureComponent);G.defaultProps={users:"true"===localStorage.getItem("withoutServer")?["Первый пользователь","Второй пользователь","Третий пользователь","Четвертый пользователь","Пятый пользователь"]:[],groups:"true"===localStorage.getItem("withoutServer")?[{title:"Первая группа",tags:["js","c#"]},{title:"Вторая группа",tags:["js","react"]},{title:"Третья группа",tags:["c#",".Net"]},{title:"Четвертая группа",tags:["c#",".Net"]},{title:"Пятая группа",tags:["c#",".Net"]}]:[]};var J=Object(d.b)({users:Object(g.a)()}),D=Object(u.b)(J,i),F=Object(m.a)({key:"header",reducer:j}),$=Object(f.a)({key:"header",saga:S.a});t.default=Object(p.c)(F,$,D)(G)},"./app/containers/Header/saga.js":function(e,t,n){"use strict";(function(e){function o(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(s.a)(r,e.name);case 3:return t=n.sent,n.next=6,Object(s.b)(Object(c.c)(t));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(s.b)(Object(c.b)(n.t0));case 12:case"end":return n.stop()}},u,this,[[0,8]])}function r(t){return e(l.a.API_BASE_URL+"/users/search",{method:"POST",headers:{"Content-Type":"application/json-patch+json"},body:JSON.stringify({name:t})}).then(function(e){return e.json()}).then(function(e){return e.users}).catch(function(e){return e})}function a(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.c)(i.b,o);case 2:case"end":return e.stop()}},d,this)}t.a=a;var s=n("./node_modules/redux-saga/es/effects.js"),i=n("./app/containers/Header/constants.js"),c=n("./app/containers/Header/actions.js"),l=n("./app/config.js"),u=regeneratorRuntime.mark(o),d=regeneratorRuntime.mark(a)}).call(t,n("./node_modules/exports-loader/index.js?self.fetch!./node_modules/whatwg-fetch/fetch.js"))},"./app/containers/Header/selectors.js":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var o=n("./node_modules/reselect/es/index.js"),r=function(e){return e.get("header")},a=function(){return Object(o.a)(r,function(e){return e.get("users")})}},"./app/images/menu.svg":function(e,t,n){e.exports=n.p+"91f551a1ed6bf78427aa2d5ef0420925.svg"}});