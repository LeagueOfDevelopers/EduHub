webpackJsonp([0],{"./app/components/Chat/Loadable.js":function(e,t,n){"use strict";var r=n("./node_modules/react-loadable/lib/index.js"),o=n.n(r);t.a=o()({loader:function(){return n.e(8).then(n.bind(null,"./app/components/Chat/index.js"))},loading:function(){return null}})},"./app/components/EnterGroupBtn/index.js":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{enterGroup:function(t,n){return e(Object(l.L)(t,n))},leaveGroup:function(t,n,r){return e(Object(l._4)(t,n,r))}}}var s=n("./node_modules/react/react.js"),u=n.n(s),c=n("./node_modules/prop-types/index.js"),p=(n.n(c),n("./node_modules/react-redux/es/index.js")),d=n("./node_modules/reselect/es/index.js"),l=n("./app/containers/GroupPage/actions.js"),g=n("./node_modules/antd/lib/index.js"),f=(n.n(g),function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,o){var a=t&&t.defaultProps,i=arguments.length-3;if(n||0===i||(n={}),n&&a)for(var s in a)void 0===n[s]&&(n[s]=a[s]);else n||(n=a||{});if(1===i)n.children=o;else if(i>1){for(var u=Array(i),c=0;c<i;c++)u[c]=arguments[c+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}()),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=f(g.Button,{type:"primary",className:"group-btn"},void 0,"Вступить в группу"),b=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleVisibleChange=function(e){n.setState({roleVisible:e})},n.state={roleVisible:!1},n.handleVisibleChange=n.handleVisibleChange.bind(n),n}return a(t,e),h(t,[{key:"render",value:function(){var e=this;return f("div",{},void 0,3!==this.props.courseStatus&&2!==this.props.courseStatus?this.props.isInGroup?f(g.Row,{className:"lg-center-container-item"},void 0,f(g.Button,{className:"group-btn",onClick:function(){e.props.leaveGroup(e.props.groupId,e.props.userData.UserId,e.props.isTeacher?"Teacher":"Member")}},void 0,"Покинуть группу")):this.props.memberAmount<this.props.size||"true"===localStorage.getItem("isTeacher")&&!this.props.members.find(function(e){return 3===e.role})?this.props.memberAmount<this.props.size&&"true"===localStorage.getItem("isTeacher")&&!this.props.members.find(function(e){return 3===e.role})?f(g.Row,{className:"lg-center-container-item"},void 0,f(g.Dropdown,{overlay:f(g.Menu,{},void 0,f(g.Menu.Item,{className:"unhover"},"0",f(g.Button,{onClick:function(){e.setState({roleVisible:!1}),e.props.enterGroup(e.props.groupId,"Member"),e.props.userData||e.props.onSignInClick()},style:{display:"block",width:"100%",marginBottom:1}},void 0,"Участник"),f(g.Button,{onClick:function(){e.setState({roleVisible:!1}),e.props.enterGroup(e.props.groupId,"Teacher"),e.props.userData||e.props.onSignInClick()},style:{display:"block",width:"100%"}},void 0,"Учитель"))),onVisibleChange:this.handleVisibleChange,visible:this.state.roleVisible,trigger:["click"],placement:"bottomRight",style:{width:146}},void 0,m)):this.props.memberAmount<this.props.size||"true"!==localStorage.getItem("isTeacher")?f(g.Row,{className:"lg-center-container-item"},void 0,f(g.Button,{type:"primary",className:"group-btn",onClick:function(){e.props.enterGroup(e.props.groupId,"Member"),e.props.userData||e.props.onSignInClick()}},void 0,"Вступить в группу")):"true"!==localStorage.getItem("isTeacher")||this.props.members.find(function(e){return 3===e.role})?null:f(g.Row,{className:"lg-center-container-item"},void 0,f(g.Button,{type:"primary",className:"group-btn",onClick:function(){e.props.enterGroup(e.props.groupId,"Teacher"),e.props.userData||e.props.onSignInClick()}},void 0,"Вступить в группу")):null:null)}}]),t}(u.a.Component);b.defaultProps={};var I=Object(d.b)({}),v=Object(p.b)(I,i);t.a=v(b)},"./app/components/InviteMemberSelect/Loadable.js":function(e,t,n){"use strict";var r=n("./node_modules/react-loadable/lib/index.js"),o=n.n(r);t.a=o()({loader:function(){return n.e(10).then(n.bind(null,"./app/components/InviteMemberSelect/index.js"))},loading:function(){return null}})},"./app/components/MembersList/Loadable.js":function(e,t,n){"use strict";var r=n("./node_modules/react-loadable/lib/index.js"),o=n.n(r);t.a=o()({loader:function(){return n.e(9).then(n.bind(null,"./app/components/MembersList/index.js"))},loading:function(){return null}})},"./app/components/ReviewModal/index.js":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{addTeacherReview:function(t,n,r){return e(Object(d.g)(t,n,r))}}}var s=n("./node_modules/react/react.js"),u=n.n(s),c=n("./node_modules/reselect/es/index.js"),p=n("./node_modules/react-redux/es/index.js"),d=n("./app/containers/GroupPage/actions.js"),l=n("./node_modules/antd/lib/index.js"),g=(n.n(l),function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,o){var a=t&&t.defaultProps,i=arguments.length-3;if(n||0===i||(n={}),n&&a)for(var s in a)void 0===n[s]&&(n[s]=a[s]);else n||(n=a||{});if(1===i)n.children=o;else if(i>1){for(var u=Array(i),c=0;c<i;c++)u[c]=arguments[c+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}()),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=l.Form.Item,m=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onHandleTitleChange=function(e){n.setState({title:e.target.value})},n.onHandleReviewChange=function(e){n.setState({review:e.target.value})},n.onHandleRateChange=function(e){n.setState({stars:e})},n.handleSubmit=function(e){e.preventDefault()},n.state={title:"",review:"",stars:0},n.onHandleReviewChange=n.onHandleReviewChange.bind(n),n.onHandleTitleChange=n.onHandleTitleChange.bind(n),n.onHandleRateChange=n.onHandleRateChange.bind(n),n}return a(t,e),f(t,[{key:"render",value:function(){var e=this;return g(l.Modal,{visible:this.props.visible,onCancel:this.props.handleCancel,width:"50%",closable:!1,bodyStyle:{padding:"30px 10%"},footer:null},void 0,g(l.Row,{style:{margin:"0px 0 40px"}},void 0,g("h2",{style:{marginBottom:0}},void 0,'Оставьте свой отзыв о преподавателе курса "'+this.props.courseTitle+'"')),g(l.Form,{id:"sign-in-form",onSubmit:this.handleSubmit},void 0,g(h,{},void 0,g(l.Input,{size:"large",value:this.state.title,onChange:this.onHandleTitleChange,placeholder:"Оглавление отзыва..."})),g(h,{style:{marginBottom:16}},void 0,g(l.Input.TextArea,{rows:6,value:this.state.review,onChange:this.onHandleReviewChange,placeholder:"Здесь вы можете написать свой отзыв..."})),g(h,{label:"Оцените преподавателя"},void 0,g(l.Rate,{style:{fontSize:36},onChange:this.onHandleRateChange,value:this.state.stars})),g(l.Row,{type:"flex",justify:"center",className:"lg-center-container-item",style:{marginTop:40}},void 0,g(l.Button,{className:"group-btn lg-margin-right-0",type:"primary",onClick:function(){e.props.addTeacherReview(e.props.groupId,e.state.title,e.state.review),e.props.handleCancel()},style:{width:160,marginRight:20,marginBottom:10}},void 0,"Подтвердить"),g(l.Button,{className:"group-btn",onClick:this.props.handleCancel,style:{width:160,marginBottom:10}},void 0,"Отменить"))))}}]),t}(u.a.Component),b=Object(c.b)({});t.a=Object(p.b)(b,i)(m)},"./app/components/SuggestPlanForm/index.js":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{addPlan:function(t,n){return e(Object(d.d)(t,n))},acceptPlan:function(t){return e(Object(d.a)(t))},declinePlan:function(t){return e(Object(d.k)(t))},finishCourse:function(t){return e(Object(d.O)(t))},downloadCourseFile:function(t){return e(Object(d.n)(t))}}}var s=n("./node_modules/react/react.js"),u=n.n(s),c=n("./node_modules/reselect/es/index.js"),p=n("./node_modules/react-redux/es/index.js"),d=n("./app/containers/GroupPage/actions.js"),l=n("./node_modules/antd/lib/index.js"),g=(n.n(l),n("./app/config.js")),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,o){var a=t&&t.defaultProps,i=arguments.length-3;if(n||0===i||(n={}),n&&a)for(var s in a)void 0===n[s]&&(n[s]=a[s]);else n||(n=a||{});if(1===i)n.children=o;else if(i>1){for(var u=Array(i),c=0;c<i;c++)u[c]=arguments[c+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b=h(l.Button,{type:"primary",className:"group-btn"},void 0,h(l.Icon,{type:"upload"})," Выбрать файл"),I=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=function(e){var t=e.fileList;t=t.slice(-1),t=t.filter(function(e){return!e.response||"done"===e.status}),n.setState({fileList:t})},n.state={fileList:[]},n.handleChange=n.handleChange.bind(n),n}return a(t,e),m(t,[{key:"render",value:function(){var e=this,t={name:"file",action:g.a.API_BASE_URL+"/file",headers:{Authorization:"Bearer "+localStorage.getItem("token")},accept:".xlsx,.xls,image/*,.doc, .docx,.ppt, .pptx,.txt,.pdf",onChange:this.handleChange};return this.props.isInGroup?this.props.isTeacher?h(l.Row,{},void 0,h(l.Row,{},void 0,this.props.currentPlan?h(l.Col,{span:24,className:"word-break",style:{marginBottom:10}},void 0,h("span",{style:{marginRight:12}},void 0,"Файл:"),h("a",{onClick:function(){return e.props.downloadCourseFile(e.props.currentPlan)},target:"_blank",download:!0},void 0,"Скачать план обучения")):null),0===this.props.courseStatus||1===this.props.courseStatus?h(l.Row,{type:"flex"},void 0,h(l.Col,{style:{marginRight:12}},void 0,u.a.createElement(l.Upload,f({},t,{fileList:this.state.fileList}),b)),h(l.Col,{},void 0,h(l.Button,{className:"group-btn",type:"primary",onClick:function(){e.props.addPlan(e.props.groupId,e.state.fileList[0].response.filename),e.setState({fileList:[]})},disabled:0===this.state.fileList.length,style:{marginBottom:10}},void 0,"Предложить учебный план"))):2===this.props.courseStatus?h(l.Row,{type:"flex"},void 0,h(l.Col,{style:{marginRight:12}},void 0,h(l.Button,{type:"primary",className:"group-btn",onClick:function(){return e.props.finishCourse(e.props.groupId)}},void 0,"Завершить курс"))):null):!this.props.isTeacher&&this.props.curriculum?h(l.Row,{},void 0,h(l.Row,{},void 0,this.props.currentPlan?h(l.Col,{span:24,className:"word-break",style:{marginBottom:10}},void 0,h("span",{style:{marginRight:12}},void 0,"Файл:"),h("a",{onClick:function(){return e.props.downloadCourseFile(e.props.currentPlan)},target:"_blank",download:!0},void 0,"Скачать план обучения")):null),this.props.members.find(function(t){return t.userId==e.props.currentUserData.UserId})&&0===this.props.members.find(function(t){return t.userId==e.props.currentUserData.UserId}).curriculumStatus||this.props.members.find(function(t){return t.userId==e.props.currentUserData.UserId})&&1===this.props.members.find(function(t){return t.userId==e.props.currentUserData.UserId}).curriculumStatus?h(l.Row,{type:"flex"},void 0,h(l.Col,{},void 0,h(l.Button,{type:"primary",style:{marginRight:12,marginBottom:10},onClick:function(){return e.props.acceptPlan(e.props.groupId)}},void 0,"Принять учебный план")),h(l.Col,{},void 0,h(l.Button,{onClick:function(){return e.props.declinePlan(e.props.groupId)}},void 0,"Отклонить учебный план"))):null):null:null}}]),t}(u.a.Component),v=Object(c.b)({});t.a=Object(p.b)(v,i)(I)},"./app/containers/GroupPage/actions.js":function(e,t,n){"use strict";function r(e,t){return{type:fe.M,groupId:e,role:t}}function o(){return{type:fe.N}}function a(e){return{type:fe.L,error:e}}function i(e,t,n){return{type:fe._5,groupId:e,memberId:t,role:n}}function s(){return{type:fe._6}}function u(e){return{type:fe._4,error:e}}function c(e,t,n){return{type:fe._2,groupId:e,invitedId:t,role:n}}function p(){return{type:fe._3}}function d(e){return{type:fe._1,error:e}}function l(e,t){return{type:fe.F,id:e,title:t}}function g(){return{type:fe.H}}function f(e){return{type:fe.G,error:e}}function h(e,t){return{type:fe.q,id:e,description:t}}function m(){return{type:fe.s}}function b(e){return{type:fe.r,error:e}}function I(e,t){return{type:fe.C,id:e,tags:t}}function v(){return{type:fe.E}}function _(e){return{type:fe.D,error:e}}function y(e,t){return{type:fe.z,id:e,size:t}}function j(){return{type:fe.B}}function S(e){return{type:fe.A,error:e}}function O(e,t){return{type:fe.t,id:e,price:t}}function C(){return{type:fe.v}}function T(e){return{type:fe.u,error:e}}function E(e,t){return{type:fe.I,id:e,groupType:t}}function R(){return{type:fe.K}}function x(e){return{type:fe.J,error:e}}function w(e,t){return{type:fe.w,id:e,isPrivate:t}}function A(){return{type:fe.y}}function P(e){return{type:fe.x,error:e}}function U(e,t,n){return{type:fe._7,groupId:e,username:t,role:n}}function D(e){return{type:fe._9,payload:e||[]}}function k(e){return{type:fe._8,error:e}}function G(e,t){return{type:fe.e,groupId:e,plan:t}}function B(){return{type:fe.f}}function L(e){return{type:fe.d,error:e}}function N(e){return{type:fe.b,groupId:e}}function z(){return{type:fe.c}}function H(e){return{type:fe.a,error:e}}function F(e){return{type:fe.l,groupId:e}}function V(){return{type:fe.m}}function M(e){return{type:fe.k,error:e}}function J(e){return{type:fe.V,filename:e}}function W(e){return{type:fe.W,file:e}}function q(e){return{type:fe.U,error:e}}function Y(e){return{type:fe.S,groupId:e}}function Z(e){return{type:fe.T,chat:e}}function $(e){return{type:fe.R,error:e}}function K(e,t){return{type:fe._11,groupId:e,text:t}}function Q(e){return{type:fe._12,messageId:e}}function X(e){return{type:fe._10,error:e}}function ee(e,t,n){return{type:fe.h,groupId:e,title:t,text:n}}function te(){return{type:fe.i}}function ne(e){return{type:fe.g,error:e}}function re(e){return{type:fe.Y,tag:e}}function oe(e){return{type:fe.Z,tags:e}}function ae(e){return{type:fe.X,error:e}}function ie(e){return{type:fe.P,id:e}}function se(){return{type:fe.Q}}function ue(e){return{type:fe.O,error:e}}function ce(e){return{type:fe.o,link:e}}function pe(e){return{type:fe.p,file:e}}function de(e){return{type:fe.n,link:e}}function le(e){return{type:fe._0,msgData:e}}function ge(){return{type:fe.j}}t.L=r,t.N=o,t.M=a,t._4=i,t._6=s,t._5=u,t._1=c,t._3=p,t._2=d,t.C=l,t.E=g,t.D=f,t.q=h,t.s=m,t.r=b,t.z=I,t.B=v,t.A=_,t.w=y,t.y=j,t.x=S,t.t=O,t.v=C,t.u=T,t.F=E,t.H=R,t.G=x,t.I=w,t.K=A,t.J=P,t._7=U,t._9=D,t._8=k,t.d=G,t.f=B,t.e=L,t.a=N,t.c=z,t.b=H,t.k=F,t.m=V,t.l=M,t.U=J,t.W=W,t.V=q,t.R=Y,t.T=Z,t.S=$,t._10=K,t._12=Q,t._11=X,t.g=ee,t.i=te,t.h=ne,t.Y=re,t._0=oe,t.Z=ae,t.O=ie,t.Q=se,t.P=ue,t.n=ce,t.p=pe,t.o=de,t.X=le,t.j=ge;var fe=n("./app/containers/GroupPage/constants.js")},"./app/containers/GroupPage/constants.js":function(e,t,n){"use strict";n.d(t,"M",function(){return r}),n.d(t,"N",function(){return o}),n.d(t,"L",function(){return a}),n.d(t,"_5",function(){return i}),n.d(t,"_6",function(){return s}),n.d(t,"_4",function(){return u}),n.d(t,"_2",function(){return c}),n.d(t,"_3",function(){return p}),n.d(t,"_1",function(){return d}),n.d(t,"F",function(){return l}),n.d(t,"H",function(){return g}),n.d(t,"G",function(){return f}),n.d(t,"q",function(){return h}),n.d(t,"s",function(){return m}),n.d(t,"r",function(){return b}),n.d(t,"C",function(){return I}),n.d(t,"E",function(){return v}),n.d(t,"D",function(){return _}),n.d(t,"z",function(){return y}),n.d(t,"B",function(){return j}),n.d(t,"A",function(){return S}),n.d(t,"t",function(){return O}),n.d(t,"v",function(){return C}),n.d(t,"u",function(){return T}),n.d(t,"I",function(){return E}),n.d(t,"K",function(){return R}),n.d(t,"J",function(){return x}),n.d(t,"w",function(){return w}),n.d(t,"y",function(){return A}),n.d(t,"x",function(){return P}),n.d(t,"_7",function(){return U}),n.d(t,"_9",function(){return D}),n.d(t,"_8",function(){return k}),n.d(t,"e",function(){return G}),n.d(t,"f",function(){return B}),n.d(t,"d",function(){return L}),n.d(t,"b",function(){return N}),n.d(t,"c",function(){return z}),n.d(t,"a",function(){return H}),n.d(t,"l",function(){return F}),n.d(t,"m",function(){return V}),n.d(t,"k",function(){return M}),n.d(t,"V",function(){return J}),n.d(t,"W",function(){return W}),n.d(t,"U",function(){return q}),n.d(t,"S",function(){return Y}),n.d(t,"T",function(){return Z}),n.d(t,"R",function(){return $}),n.d(t,"_11",function(){return K}),n.d(t,"_12",function(){return Q}),n.d(t,"_10",function(){return X}),n.d(t,"h",function(){return ee}),n.d(t,"i",function(){return te}),n.d(t,"g",function(){return ne}),n.d(t,"Y",function(){return re}),n.d(t,"Z",function(){return oe}),n.d(t,"X",function(){return ae}),n.d(t,"P",function(){return ie}),n.d(t,"Q",function(){return se}),n.d(t,"O",function(){return ue}),n.d(t,"o",function(){return ce}),n.d(t,"p",function(){return pe}),n.d(t,"n",function(){return de}),n.d(t,"_0",function(){return le}),n.d(t,"j",function(){return ge});var r="ENTER_GROUP_START",o="ENTER_GROUP_SUCCESS",a="ENTER_GROUP_FAILED",i="LEAVE_GROUP_START",s="LEAVE_GROUP_SUCCESS",u="LEAVE_GROUP_FAILED",c="INVITE_MEMBER_START",p="INVITE_MEMBER_SUCCESS",d="INVITE_MEMBER_FAILED",l="EDIT_GROUP_TITLE",g="EDIT_GROUP_TITLE_SUCCESS",f="EDIT_GROUP_TITLE_FAILED",h="EDIT_GROUP_DESCRIPTION",m="EDIT_GROUP_DESCRIPTION_SUCCESS",b="EDIT_GROUP_DESCRIPTION_FAILED",I="EDIT_GROUP_TAGS",v="EDIT_GROUP_TAGS_SUCCESS",_="EDIT_GROUP_TAGS_FAILED",y="EDIT_GROUP_SIZE",j="EDIT_GROUP_SIZE_SUCCESS",S="EDIT_GROUP_SIZE_FAILED",O="EDIT_GROUP_PRICE",C="EDIT_GROUP_PRICE_SUCCESS",T="EDIT_GROUP_PRICE_FAILED",E="EDIT_GROUP_TYPE",R="EDIT_GROUP_TYPE_SUCCESS",x="EDIT_GROUP_TYPE_FAILED",w="EDIT_GROUP_PRIVACY",A="EDIT_GROUP_PRIVACY_SUCCESS",P="EDIT_GROUP_PRIVACY_FAILED",U="SEARCH_INVITATION_MEMBER",D="SEARCH_INVITATION_MEMBER_SUCCESS",k="SEARCH_INVITATION_MEMBER_FAILED",G="ADD_PLAN_START",B="ADD_PLAN_SUCCESS",L="ADD_PLAN_FAILED",N="ACCEPT_PLAN_START",z="ACCEPT_PLAN_SUCCESS",H="ACCEPT_PLAN_FAILED",F="DECLINE_PLAN_START",V="DECLINE_PLAN_SUCCESS",M="DECLINE_PLAN_FAILED",J="GET_CURRENT_PLAN_START",W="GET_CURRENT_PLAN_SUCCESS",q="GET_CURRENT_PLAN_FAILED",Y="GET_CURRENT_CHAT_START",Z="GET_CURRENT_CHAT_SUCCESS",$="GET_CURRENT_CHAT_FAILED",K="SEND_MESSAGE_START",Q="SEND_MESSAGE_SUCCESS",X="SEND_MESSAGE_FAILED",ee="ADD_TEACHER_REVIEW_START",te="ADD_TEACHER_REVIEW_SUCCESS",ne="ADD_TEACHER_REVIEW_FAILED",re="GET_GROUP_TAGS_START",oe="GET_GROUP_TAGS_SUCCESS",ae="GET_GROUP_TAGS_FAILED",ie="FINISH_COURSE_START",se="FINISH_COURSE_SUCCESS",ue="FINISH_COURSE_FAILED",ce="DOWNLOAD_COURSE_FILE_START",pe="DOWNLOAD_COURSE_FILE_SUCCESS",de="DOWNLOAD_COURSE_FILE_FAILED",le="GET_MESSAGE",ge="CLEAR_CHAT"},"./app/containers/GroupPage/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{enterGroup:function(t,n){return e(Object(b.L)(t,n))},leaveGroup:function(t,n,r){return e(Object(b._4)(t,n,r))},editGroupTitle:function(t,n){return e(Object(b.C)(t,n))},editGroupDescription:function(t,n){return e(Object(b.q)(t,n))},editGroupTags:function(t,n){return e(Object(b.z)(t,n))},editGroupSize:function(t,n){return e(Object(b.w)(t,n))},editGroupPrice:function(t,n){return e(Object(b.t)(t,n))},editPrivacy:function(t,n){return e(Object(b.I)(t,n))},editGroupType:function(t,n){return e(Object(b.F)(t,n))},getCurrentChat:function(t){return e(Object(b.R)(t))},getCurrentPlan:function(t){return e(Object(b.U)(t))},getTags:function(t){return e(Object(b.Y)(t))},clearChat:function(){return e(Object(b.j)())}}}n.d(t,"GroupPage",function(){return V});var s=n("./node_modules/react/react.js"),u=n.n(s),c=n("./node_modules/prop-types/index.js"),p=(n.n(c),n("./node_modules/react-redux/es/index.js")),d=n("./node_modules/reselect/es/index.js"),l=n("./node_modules/redux/es/index.js"),g=n("./app/utils/injectSaga.js"),f=n("./app/utils/injectReducer.js"),h=n("./app/containers/GroupPage/reducer.js"),m=n("./app/containers/GroupPage/saga.js"),b=n("./app/containers/GroupPage/actions.js"),I=n("./app/containers/GroupPage/selectors.js"),v=n("./node_modules/react-router-dom/index.js"),_=(n.n(v),n("./app/config.js")),y=n("./app/globalJS.js"),j=n("./node_modules/antd/lib/index.js"),S=(n.n(j),n("./app/components/MembersList/Loadable.js")),O=n("./app/components/Chat/Loadable.js"),C=n("./app/components/InviteMemberSelect/Loadable.js"),T=n("./app/containers/SigningInForm/index.js"),E=n("./app/components/SuggestPlanForm/index.js"),R=n("./app/components/ReviewModal/index.js"),x=n("./app/components/EnterGroupBtn/index.js"),w=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,o){var a=t&&t.defaultProps,i=arguments.length-3;if(n||0===i||(n={}),n&&a)for(var s in a)void 0===n[s]&&(n[s]=a[s]);else n||(n=a||{});if(1===i)n.children=o;else if(i>1){for(var u=Array(i),c=0;c<i;c++)u[c]=arguments[c+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),A=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),P=j.Form.Item,U={groupInfo:{isPrivate:!0,title:"Название группы",description:"Описание группы. Описание группы. Описание группы. Описание группы. Описание группы. Описание группы. Описание группы. Описание группы. Описание группы. Описание группы. Описание группы. Описание группы. Описание группы. Описание группы. Описание группы. Описание группы. Описание группы. Описание группы. Описание группы. Описание группы. Описание группы. Описание группы. Описание группы. Описание группы. Описание группы. ",isActive:!0,tags:["js","c#"],moneyPerUser:600,size:10,groupType:"Лекция"},members:[{member:{userId:"848a3202-7085-4cba-842f-07d07eff7b35",memberRole:3,paid:!0,acceptedCourse:!1},name:"Первый пользователь",avatarLink:"string"},{member:{userId:"string",memberRole:1,paid:!0,acceptedCourse:!1},name:"Второй пользователь",avatarLink:"string"}],educator:null},D=w(j.Col,{},void 0,"Тэги"),k=w(j.Col,{},void 0,"Формат"),G=w(j.Select.Option,{value:"Lecture"},void 0,"Лекция"),B=w(j.Select.Option,{value:"MasterClass"},void 0,"Мастер-класс"),L=w(j.Select.Option,{value:"Seminar"},void 0,"Семинар"),N=w(j.Col,{span:10},void 0,"Стоимость"),z=w(j.Col,{span:16},void 0,"Приватная группа"),H=w(j.Col,{},void 0,"Эта группа является приватной"),F=w(j.Col,{span:10},void 0,"Участников"),V=function(t){function n(t){r(this,n);var a=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return a.onSignInClick=function(){a.setState({signInVisible:!0})},a.handleSignInCancel=function(){a.setState({signInVisible:!1})},a.onReviewClick=function(){a.setState({reviewVisible:!0})},a.handleReviewCancel=function(){a.setState({reviewVisible:!1})},a.getCurrentGroup=function(){"true"!==localStorage.getItem("without_server")?e(_.a.API_BASE_URL+"/group/"+a.state.id,{headers:{"Content-Type":"application/json-patch+json",Authorization:"Bearer "+localStorage.getItem("token")}}).then(function(e){return e.json()}).then(function(e){return a.onSetResult(e)}).catch(function(e){return e}):a.onSetResult(U)},a.onChangeTitleHandle=function(e){a.setState({titleInput:e.target.value})},a.onChangeDescriptionHandle=function(e){a.setState({descInput:e.target.value})},a.onChangeSizeHandle=function(e){a.setState({sizeInput:e})},a.onChangePriceHandle=function(e){a.setState({priceInput:e})},a.onChangeTagsHandle=function(e){a.setState({tagsInput:e})},a.onHandleGroupTypeChange=function(e){a.setState({groupTypeInput:e})},a.onHandlePrivateChange=function(e){a.setState({privateInput:e})},a.onHandleSearch=function(e){a.props.getTags(e)},a.validateTagsInput=function(e,t,n){t.length<3?n("Должно быть не менее 3 тегов!"):t.length>10?n("Должно быть не более 10 тегов!"):0!==t.filter(function(e){return e.length>16}).length?n("В теге не может быть более 16 символов!"):n()},a.cancelChanges=function(){a.setState({isEditing:!1,titleInput:a.state.groupData.groupInfo.title,descInput:a.state.groupData.groupInfo.description,sizeInput:a.state.groupData.groupInfo.size,priceInput:a.state.groupData.groupInfo.cost,tagsInput:a.state.groupData.groupInfo.tags,privateInput:a.state.groupData.groupInfo.isPrivate})},a.changeGroupData=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||(a.state.titleInput!==a.state.groupData.groupInfo.title&&a.props.editGroupTitle(a.state.id,a.state.titleInput),a.state.descInput!==a.state.groupData.groupInfo.description&&a.props.editGroupDescription(a.state.id,a.state.descInput),a.state.sizeInput!==a.state.groupData.groupInfo.size&&a.props.editGroupSize(a.state.id,a.state.sizeInput),a.state.priceInput!==a.state.groupData.groupInfo.cost&&a.props.editGroupPrice(a.state.id,a.state.priceInput),a.state.groupTypeInput!==Object(y.e)(a.state.groupData.groupInfo.groupType)&&a.props.editGroupType(a.state.id,a.state.groupTypeInput),a.state.privateInput!==a.state.groupData.groupInfo.isPrivate&&a.props.editPrivacy(a.state.id,a.state.privateInput),a.state.tagsInput.length===a.state.groupData.groupInfo.tags.length&&0===a.state.tagsInput.filter(function(e,t){return e!==a.state.groupData.groupInfo.tags[t]}).length||a.props.editGroupTags(a.state.id,a.state.tagsInput),a.setState({isEditing:!1}))})},a.state={id:a.props.match.params.id,groupData:{groupInfo:{isPrivate:!1,title:"",description:"",isActive:!0,tags:[],cost:null,size:0,groupType:"",memberAmount:0,courseStatus:0,curriculum:null},members:[],reviews:[]},userData:localStorage.getItem("token")?Object(y.k)(localStorage.getItem("token")):null,isInGroup:!1,isCreator:!1,isTeacher:!1,signInVisible:!1,reviewVisible:!1,isEditing:!1,titleInput:"",descInput:"",tagsInput:[],sizeInput:"",priceInput:"",groupTypeInput:"",privateInput:!1},a.onSetResult=a.onSetResult.bind(a),a.getCurrentGroup=a.getCurrentGroup.bind(a),a.onSignInClick=a.onSignInClick.bind(a),a.handleSignInCancel=a.handleSignInCancel.bind(a),a.onReviewClick=a.onReviewClick.bind(a),a.handleReviewCancel=a.handleReviewCancel.bind(a),a.changeGroupData=a.changeGroupData.bind(a),a.onChangeTitleHandle=a.onChangeTitleHandle.bind(a),a.onChangeDescriptionHandle=a.onChangeDescriptionHandle.bind(a),a.onChangePriceHandle=a.onChangePriceHandle.bind(a),a.onChangeSizeHandle=a.onChangeSizeHandle.bind(a),a.onChangeTagsHandle=a.onChangeTagsHandle.bind(a),a.onHandleGroupTypeChange=a.onHandleGroupTypeChange.bind(a),a.onHandlePrivateChange=a.onHandlePrivateChange.bind(a),a.cancelChanges=a.cancelChanges.bind(a),a.onHandleSearch=a.onHandleSearch.bind(a),a.validateTagsInput=a.validateTagsInput.bind(a),a}return a(n,t),A(n,[{key:"componentDidMount",value:function(){this.getCurrentGroup()}},{key:"componentWillUnmount",value:function(){this.props.clearChat()}},{key:"componentDidUpdate",value:function(e,t){e.needUpdate&&!this.props.needUpdate&&this.componentDidMount()}},{key:"onSetResult",value:function(e){var t=this;this.setState({groupData:{groupInfo:e.groupInfo,members:e.members,reviews:e.reviews},titleInput:e.groupInfo.title,descInput:e.groupInfo.description,sizeInput:e.groupInfo.size,priceInput:e.groupInfo.cost,tagsInput:e.groupInfo.tags,groupTypeInput:Object(y.e)(e.groupInfo.groupType),privateInput:e.groupInfo.isPrivate,isInGroup:!!this.state.userData&&Boolean(e.members.find(function(e){return e.userId==t.state.userData.UserId}))}),this.setState({isCreator:!!this.state.isInGroup&&Boolean(2===e.members.find(function(e){return e.userId==t.state.userData.UserId}).role),isTeacher:!!this.state.isInGroup&&Boolean(3===e.members.find(function(e){return e.userId==t.state.userData.UserId}).role)}),localStorage.getItem("token")&&this.state.isInGroup&&this.props.getCurrentChat(this.state.id),3!==this.state.groupData.groupInfo.courseStatus||this.state.isTeacher||!this.state.isInGroup||this.state.groupData.reviews.filter(function(e){return e.fromUser==t.state.userData.UserId}).length||setTimeout(this.onReviewClick,1e3)}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator;return w("div",{style:{height:"calc(100% - 64px)"}},void 0,w(j.Form,{className:"group-form",onSubmit:this.changeGroupData},void 0,w(j.Col,{xs:{span:20,offset:2},sm:{span:16,offset:4},style:{marginTop:40,marginBottom:40,fontSize:16}},void 0,w(j.Col,{className:"md-center-container",xs:{span:24},md:{span:10},lg:{span:7}},void 0,w(j.Row,{className:"main-group-info"},void 0,w(j.Row,{style:{marginBottom:26}},void 0,w(j.Col,{span:24},void 0,w("h3",{className:"word-break",style:{margin:0,fontSize:22}},void 0,this.state.isEditing?w(P,{style:{width:"100%",marginBottom:0}},void 0,t("title",{rules:[{required:!0,message:"Пожалуйста, введите название группы!"},{min:3,message:"Название должно содержать не менее 3 символов!"},{max:70,message:"Название должно содержать не более 70 символов!"}],initialValue:this.state.titleInput})(w(j.Input,{onChange:this.onChangeTitleHandle}))):this.state.groupData.groupInfo.title)),Object(y.b)(this.state.groupData.groupInfo.courseStatus)),w(j.Row,{gutter:6,type:"flex",justify:"space-between",align:"middle",style:{marginBottom:8}},void 0,D,w(j.Col,{},void 0,this.state.isEditing?w(P,{style:{width:"100%",marginBottom:0}},void 0,t("tags",{rules:[{required:!0,message:"Пожалуйста, введите изучаемые технологии!"},{validator:this.validateTagsInput}],initialValue:this.state.tagsInput})(w(j.Select,{onChange:this.onChangeTagsHandle,style:{width:"100%"},onSearch:this.onHandleSearch,mode:"tags",placeholder:"Введите, что хотите изучить",notFoundContent:null},void 0,this.props.tags.length&&0!==this.props.tags.length?this.props.tags.map(function(e,t){return w(Option,{},e.tag,e.tag)}):null))):this.state.groupData.groupInfo.tags.map(function(e){return w(v.Link,{to:"/groups?tags="+e.replace("#","*")},e,e," ")}))),w(j.Row,{type:"flex",justify:"space-between",align:"middle",style:{marginBottom:8}},void 0,k,w(j.Col,{},void 0,this.state.isEditing?w(P,{style:{width:"100%",marginBottom:0}},void 0,t("type",{rules:[{required:!0,message:"Пожалуйста, выберите формат обучения!"}],initialValue:this.state.groupTypeInput})(w(j.Select,{onChange:this.onHandleGroupTypeChange,defaultActiveFirstOption:!1,style:{minWidth:114},placeholder:"Выберите формат"},void 0,G,B,L))):Object(y.e)(this.state.groupData.groupInfo.groupType))),w(j.Row,{type:"flex",justify:"space-between",align:"middle",style:{marginBottom:8}},void 0,N,w(j.Col,{span:14,style:{textAlign:"right"}},void 0,this.state.isEditing?w(P,{style:{width:"100%",marginBottom:0}},void 0,t("price",{rules:[{required:!0,message:"Пожалуйста, введите стоимость занятия!"}],initialValue:this.state.priceInput})(w(j.InputNumber,{min:1,onChange:this.onChangePriceHandle}))):this.state.groupData.groupInfo.cost+" руб.")),this.state.isEditing?w(j.Row,{type:"flex",align:"middle",style:{marginBottom:12}},void 0,z,w(j.Col,{span:8,style:{textAlign:"right"}},void 0,w(j.Switch,{checked:this.state.privateInput,id:"privacy",onChange:this.onHandlePrivateChange}))):this.state.groupData.groupInfo.isPrivate?w(j.Row,{style:{marginBottom:12}},void 0,H):null,this.state.isEditing?w(j.Row,{type:"flex",align:"middle",style:{marginBottom:12}},void 0,F,w(j.Col,{span:14,style:{textAlign:"right"}},void 0,w(P,{style:{width:"100%",marginBottom:0}},void 0,t("size",{rules:[{required:!0,message:"Пожалуйста, введите количество человек!"}],initialValue:this.state.sizeInput})(w(j.InputNumber,{id:"size",min:1,max:200,onChange:this.onChangeSizeHandle,style:{width:64}}))))):null),w(j.Row,{style:{width:"100%",marginBottom:20}},void 0,w(S.a,{groupId:this.state.id,members:this.state.groupData.members,memberAmount:this.state.groupData.groupInfo.memberAmount,size:this.state.groupData.groupInfo.size,isCreator:this.state.isCreator})),this.state.isCreator&&!this.state.isEditing&&2!==this.state.groupData.groupInfo.courseStatus&&3!==this.state.groupData.groupInfo.courseStatus?w(j.Row,{style:{width:"calc(100% + 32px)"},className:"md-center-container"},void 0,w(C.a,{groupId:this.state.id,memberAmount:this.state.groupData.groupInfo.memberAmount,size:this.state.groupData.groupInfo.size,teacher:this.state.groupData.members.filter(function(e){return 3===e.role})[0]})):null,this.state.isCreator&&!this.state.isEditing&&2!==this.state.groupData.groupInfo.courseStatus&&3!==this.state.groupData.groupInfo.courseStatus?w(j.Row,{style:{width:"calc(100% + 32px)"}},void 0,w(j.Button,{type:"dashed",className:"md-center-container md-offset-16px",onClick:function(){return e.setState({isEditing:!0})},style:{width:"100%",marginBottom:12}},void 0,"Редактировать")):this.state.isEditing?w(j.Row,{style:{width:"calc(100% + 32px)"}},void 0,w(j.Col,{span:24,className:"md-center-container md-offset-16px"},void 0,w(j.Button,{type:"primary",htmlType:"submit",style:{width:"100%"}},void 0,"Подтвердить")),w(j.Col,{span:24,className:"md-center-container md-offset-16px"},void 0,w(j.Button,{type:"danger",onClick:this.cancelChanges,style:{width:"100%",marginTop:10}},void 0,"Отмена"))):null),w(j.Col,{xs:{span:24},md:{span:12,offset:2},lg:{span:15,offset:2},xl:{span:15,offset:2}},void 0,w(j.Row,{},void 0,w(j.Row,{style:{marginTop:4}},void 0,w(j.Col,{span:10},void 0,w("span",{style:{fontSize:18,fontWeight:600}},void 0,"Описание")),w(j.Col,{span:14,style:{textAlign:"right"}},void 0,w(x.a,{memberAmount:this.state.groupData.groupInfo.memberAmount,size:this.state.groupData.groupInfo.size,isInGroup:this.state.isInGroup,isTeacher:this.state.isTeacher,userData:this.state.userData,groupId:this.state.id,onSignInClick:this.onSignInClick,members:this.state.groupData.members,courseStatus:this.state.groupData.groupInfo.courseStatus}))),w(j.Row,{style:{marginBottom:22,marginTop:4}},void 0,w("p",{className:"word-break"},void 0,this.state.isEditing?w(P,{style:{width:"100%",marginBottom:0}},void 0,t("desc",{rules:[{required:!0,message:"Пожалуйста, введите описание!"},{min:20,message:"Должно быть не менее 20 символов!"},{max:3e3,message:"Должно быть не более 3000 символов!"}],initialValue:this.state.descInput})(w(j.Input.TextArea,{onChange:this.onChangeDescriptionHandle,autosize:!0}))):this.state.groupData.groupInfo.description)),(this.state.groupData.groupInfo.curriculum||this.state.isTeacher)&&this.state.isInGroup?w(j.Row,{style:{textAlign:"left",marginTop:8,marginBottom:28}},void 0,w(j.Col,{style:{marginBottom:8}},void 0,w("span",{style:{fontSize:18,fontWeight:600}},void 0,"Учебный план")),w(j.Col,{xs:{span:24}},void 0,w(E.a,{members:this.state.groupData.members,groupId:this.state.id,curriculum:this.state.groupData.groupInfo.curriculum,isTeacher:this.state.isTeacher,currentUserData:this.state.userData,currentPlan:this.state.groupData.groupInfo.curriculum,courseStatus:this.state.groupData.groupInfo.courseStatus,isInGroup:this.state.isInGroup}))):null),w(j.Row,{style:{width:"100%",paddingBottom:40}},void 0,w(O.a,{chat:this.state.isInGroup?this.props.currentChat:[],groupId:this.state.id,isInGroup:this.state.isInGroup}))))),w(T.a,{visible:this.state.signInVisible,handleCancel:this.handleSignInCancel}),w(R.a,{courseTitle:this.state.groupData.groupInfo.title,groupId:this.state.id,visible:this.state.reviewVisible,handleCancel:this.handleReviewCancel}))}}]),n}(u.a.Component);V.defaultProps={users:"true"===localStorage.getItem("withoutServer")?["Первый пользователь","Второй пользователь"]:[]};var M=Object(d.b)({needUpdate:Object(I.b)(),currentChat:Object(I.a)(),tags:Object(I.c)()}),J=Object(p.b)(M,i),W=Object(f.a)({key:"groupPage",reducer:h.a}),q=Object(g.a)({key:"groupPage",saga:m.a});t.default=Object(l.c)(W,q,J)(j.Form.create()(V))}.call(t,n("./node_modules/exports-loader/index.js?self.fetch!./node_modules/whatwg-fetch/fetch.js"))},"./app/containers/GroupPage/reducer.js":function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case a.M:return e.set("pending",!0).set("needUpdate",!0);case a.N:return e.set("pending",!1).set("needUpdate",!1);case a.L:return e.set("pending",!1).set("error",!0).set("needUpdate",!1);case a._5:return e.set("pending",!0).set("needUpdate",!0);case a._6:return e.set("pending",!1).set("needUpdate",!1);case a._4:return e.set("pending",!1).set("error",!0).set("needUpdate",!1);case a._2:return e.set("pending",!0);case a._3:return i.message.success("Приглашение отправлено"),e.set("pending",!1);case a._1:return e.set("pending",!1).set("error",!0);case a.F:return e.set("pending",!0).set("needUpdate",!0);case a.H:return e.set("pending",!1).set("needUpdate",!1);case a.G:return e.set("pending",!1).set("error",!0).set("needUpdate",!1);case a.q:return e.set("pending",!0).set("needUpdate",!0);case a.s:return e.set("pending",!1).set("needUpdate",!1);case a.r:return e.set("pending",!1).set("error",!0).set("needUpdate",!1);case a.C:return e.set("pending",!0).set("needUpdate",!0);case a.E:return e.set("pending",!1).set("needUpdate",!1);case a.D:return e.set("pending",!1).set("error",!0).set("needUpdate",!1);case a.z:return e.set("pending",!0).set("needUpdate",!0);case a.B:return e.set("pending",!1).set("needUpdate",!1);case a.A:return e.set("pending",!1).set("error",!0).set("needUpdate",!1);case a.t:return e.set("pending",!0).set("needUpdate",!0);case a.v:return e.set("pending",!1).set("needUpdate",!1);case a.u:return e.set("pending",!1).set("error",!0).set("needUpdate",!1);case a.I:return e.set("pending",!0).set("needUpdate",!0);case a.K:return e.set("pending",!1).set("needUpdate",!1);case a.J:return e.set("pending",!1).set("error",!0).set("needUpdate",!1);case a.w:return e.set("pending",!0).set("needUpdate",!0);case a.y:return e.set("pending",!1).set("needUpdate",!1);case a.x:return e.set("pending",!1).set("error",!0).set("needUpdate",!1);case a._7:return e.set("pending",!0).set("username",t.username).set("groupId",t.groupId);case a._9:return e.set("pending",!1).set("users",t.payload);case a._8:return e.set("pending",!1).set("error",!0);case a.e:return e.set("pending",!0).set("needUpdate",!0);case a.f:return e.set("pending",!1).set("needUpdate",!1);case a.d:return e.set("pending",!1).set("error",!0).set("needUpdate",!1);case a.b:return e.set("pending",!0).set("needUpdate",!0);case a.c:return e.set("pending",!1).set("needUpdate",!1);case a.a:return e.set("pending",!1).set("error",!0).set("needUpdate",!1);case a.l:return e.set("pending",!0).set("needUpdate",!0);case a.m:return e.set("pending",!1).set("needUpdate",!1);case a.k:return e.set("pending",!1).set("error",!0).set("needUpdate",!1);case a.V:return e.set("pending",!0);case a.W:return e.set("pending",!1).set("currentPlan",t.file);case a.U:return e.set("pending",!1).set("error",!0);case a.S:return e.set("pending",!0);case a.T:return e.set("pending",!1).set("chat",t.chat);case a.R:return e.set("pending",!1).set("error",!0);case a._11:return e.set("pending",!0).set("chat",e.toJS().chat.concat({text:t.text,senderId:Object(s.k)(localStorage.getItem("token")).UserId,sentOn:new Date}));case a._12:return e.set("pending",!1).set("needUpdate",!1);case a._10:return e.set("pending",!1).set("error",!0).set("needUpdate",!1);case a.h:return e.set("pending",!0);case a.i:return i.message.success("Отзыв сохранен!"),e.set("pending",!1);case a.g:return e.set("pending",!1).set("error",!0);case a.Y:return e.set("pending",!0);case a.Z:return e.set("tags",t.tags).set("pending",!1);case a.X:return e.set("pending",!1).set("error",!0);case a.P:return e.set("pending",!0).set("needUpdate",!0);case a.Q:return e.set("pending",!1).set("needUpdate",!1);case a.O:return e.set("pending",!1).set("error",!0).set("needUpdate",!1);case a.o:return e.set("pending",!0);case a.p:var n=document.createElement("a"),r=URL.createObjectURL(t.file);return n.href=r,n.download="plan",document.body.appendChild(n),n.click(),setTimeout(function(){document.body.removeChild(n),URL.revokeObjectURL(r)},0),e.set("pending",!1).set("error",!1);case a.n:return i.message.error("Не удалось загузить файл!"),e.set("pending",!1).set("error",!0);case a._0:return e.set("chat",t.msgData.senderId!=Object(s.k)(localStorage.getItem("token")).UserId?e.toJS().chat.concat(t.msgData):e.toJS().chat);case a.j:return e.set("chat",[]);default:return e}}var o=n("./node_modules/immutable/dist/immutable.js"),a=(n.n(o),n("./app/containers/GroupPage/constants.js")),i=n("./node_modules/antd/lib/index.js"),s=(n.n(i),n("./app/globalJS.js")),u=Object(o.fromJS)({username:"",groupId:"",users:[],chat:[],tags:[],currentPlan:null,needUpdate:!1,pending:!1,error:!1});t.a=r},"./app/containers/GroupPage/saga.js":function(e,t,n){"use strict";(function(e){function r(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(W.a)(s,e.groupId,e.role);case 3:return t.next=5,Object(W.b)(Object(q.N)());case 5:t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(0),t.next=11,Object(W.b)(Object(q.M)(t.t0));case 11:case"end":return t.stop()}},$,this,[[0,7]])}function o(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(W.a)(u,e.groupId,e.memberId,e.role);case 3:return t.next=5,Object(W.b)(Object(q._6)());case 5:t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(0),t.next=11,Object(W.b)(Object(q._5)(t.t0));case 11:case"end":return t.stop()}},K,this,[[0,7]])}function a(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(W.a)(i,e.groupId,e.invitedId,e.role);case 3:return t.next=5,Object(W.b)(Object(q._3)());case 5:t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(0),t.next=11,Object(W.b)(Object(q._2)(t.t0));case 11:case"end":return t.stop()}},Q,this,[[0,7]])}function i(t,n,r){return"Member"===r?e(Z.a.API_BASE_URL+"/group/"+t+"/member/invitation",{method:"POST",headers:{"Content-Type":"application/json-patch+json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({invitedId:n})}).catch(function(e){return e}):"Teacher"===r?e(Z.a.API_BASE_URL+"/group/"+t+"/teacher/invitation",{method:"POST",headers:{"Content-Type":"application/json-patch+json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({invitedId:n})}).catch(function(e){return e}):void 0}function s(t,n){return"Member"===n?e(Z.a.API_BASE_URL+"/group/"+t+"/member",{method:"POST",headers:{"Content-Type":"application/json-patch+json",Authorization:"Bearer "+localStorage.getItem("token")}}).catch(function(e){return e}):"Teacher"===n?e(Z.a.API_BASE_URL+"/group/"+t+"/teacher",{method:"POST",headers:{"Content-Type":"application/json-patch+json",Authorization:"Bearer "+localStorage.getItem("token")}}).catch(function(e){return e}):void 0}function u(t,n,r){return"Member"===r?e(Z.a.API_BASE_URL+"/group/"+t+"/member/"+n,{method:"DELETE",headers:{"Content-Type":"application/json-patch+json",Authorization:"Bearer "+localStorage.getItem("token")}}).catch(function(e){return e}):"Teacher"===r?e(Z.a.API_BASE_URL+"/group/"+t+"/teacher",{method:"DELETE",headers:{"Content-Type":"application/json-patch+json",Authorization:"Bearer "+localStorage.getItem("token")}}).catch(function(e){return e}):void 0}function c(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(W.a)(p,e.id,e.title);case 3:return t.next=5,Object(W.b)(Object(q.E)());case 5:t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(0),t.next=11,Object(W.b)(Object(q.D)(t.t0));case 11:case"end":return t.stop()}},X,this,[[0,7]])}function p(t,n){return e(Z.a.API_BASE_URL+"/group/"+t+"/title",{method:"PUT",headers:{"Content-Type":"application/json-patch+json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({groupTitle:n})}).then(function(e){return e.json()}).catch(function(e){return e})}function d(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(W.a)(l,e.id,e.groupType);case 3:return t.next=5,Object(W.b)(Object(q.H)());case 5:t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(0),t.next=11,Object(W.b)(Object(q.G)(t.t0));case 11:case"end":return t.stop()}},ee,this,[[0,7]])}function l(t,n){return e(Z.a.API_BASE_URL+"/group/"+t+"/type",{method:"PUT",headers:{"Content-Type":"application/json-patch+json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({groupType:n})}).then(function(e){return e.json()}).catch(function(e){return e})}function g(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(W.a)(f,e.id,e.isPrivate);case 3:return t.next=5,Object(W.b)(Object(q.K)());case 5:t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(0),t.next=11,Object(W.b)(Object(q.J)(t.t0));case 11:case"end":return t.stop()}},te,this,[[0,7]])}function f(t,n){return e(Z.a.API_BASE_URL+"/group/"+t+"/privacy",{method:"PUT",headers:{"Content-Type":"application/json-patch+json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({isPrivate:n})}).then(function(e){return e.json()}).catch(function(e){return e})}function h(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(W.a)(m,e.id,e.description);case 3:return t.next=5,Object(W.b)(Object(q.s)());case 5:t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(0),t.next=11,Object(W.b)(Object(q.r)(t.t0));case 11:case"end":return t.stop()}},ne,this,[[0,7]])}function m(t,n){return e(Z.a.API_BASE_URL+"/group/"+t+"/description",{method:"PUT",headers:{"Content-Type":"application/json-patch+json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({groupDescription:n})}).then(function(e){return e.json()}).catch(function(e){return e})}function b(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(W.a)(I,e.id,e.tags);case 3:return t.next=5,Object(W.b)(Object(q.B)());case 5:t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(0),t.next=11,Object(W.b)(Object(q.A)(t.t0));case 11:case"end":return t.stop()}},re,this,[[0,7]])}function I(t,n){return e(Z.a.API_BASE_URL+"/group/"+t+"/tags",{method:"PUT",headers:{"Content-Type":"application/json-patch+json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({groupTags:n})}).then(function(e){return e.json()}).catch(function(e){return e})}function v(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(W.a)(_,e.id,e.size);case 3:return t.next=5,Object(W.b)(Object(q.y)());case 5:t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(0),t.next=11,Object(W.b)(Object(q.x)(t.t0));case 11:case"end":return t.stop()}},oe,this,[[0,7]])}function _(t,n){return e(Z.a.API_BASE_URL+"/group/"+t+"/size",{method:"PUT",headers:{"Content-Type":"application/json-patch+json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({groupSize:n})}).then(function(e){return e.json()}).catch(function(e){return e})}function y(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(W.a)(j,e.id,e.price);case 3:return t.next=5,Object(W.b)(Object(q.v)());case 5:t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(0),t.next=11,Object(W.b)(Object(q.u)(t.t0));case 11:case"end":return t.stop()}},ae,this,[[0,7]])}function j(t,n){return e(Z.a.API_BASE_URL+"/group/"+t+"/price",{method:"PUT",headers:{"Content-Type":"application/json-patch+json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({groupPrice:n})}).then(function(e){return e.json()}).catch(function(e){return e})}function S(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(W.a)(O,e.groupId,e.username,e.role);case 3:return t=n.sent,n.next=6,Object(W.b)(Object(q._9)(t.users));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(W.b)(Object(q._8)(n.t0));case 12:case"end":return n.stop()}},ie,this,[[0,8]])}function O(t,n,r){return e(Z.a.API_BASE_URL+"/users/searchForInvitation",{method:"POST",headers:{"Content-Type":"application/json-patch+json"},body:JSON.stringify({groupId:t,username:n,wantToTeach:"Teacher"===r})}).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){return e})}function C(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(W.a)(T,e.groupId,e.plan);case 3:return t.next=5,Object(W.b)(Object(q.f)());case 5:t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(0),t.next=11,Object(W.b)(Object(q.e)(t.t0));case 11:case"end":return t.stop()}},se,this,[[0,7]])}function T(t,n){return e(Z.a.API_BASE_URL+"/group/"+t+"/course/curriculum",{method:"POST",headers:{"Content-Type":"application/json-patch+json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({description:n})}).catch(function(e){return e})}function E(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(W.a)(R,e.groupId);case 3:return t.next=5,Object(W.b)(Object(q.c)());case 5:t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(0),t.next=11,Object(W.b)(Object(q.b)(t.t0));case 11:case"end":return t.stop()}},ue,this,[[0,7]])}function R(t){return e(Z.a.API_BASE_URL+"/group/"+t+"/course/curriculum",{method:"PUT",headers:{"Content-Type":"application/json-patch+json",Authorization:"Bearer "+localStorage.getItem("token")}}).catch(function(e){return e})}function x(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(W.a)(w,e.groupId);case 3:return t.next=5,Object(W.b)(Object(q.m)());case 5:t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(0),t.next=11,Object(W.b)(Object(q.l)(t.t0));case 11:case"end":return t.stop()}},ce,this,[[0,7]])}function w(t){return e(Z.a.API_BASE_URL+"/group/"+t+"/course/curriculum",{method:"DELETE",headers:{"Content-Type":"application/json-patch+json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({reason:""})}).catch(function(e){return e})}function A(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(W.a)(P,e.filename);case 3:return t=n.sent,n.next=6,Object(W.b)(Object(q.W)(t));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(W.b)(Object(q.V)(n.t0));case 12:case"end":return n.stop()}},pe,this,[[0,8]])}function P(t){return e(Z.a.API_BASE_URL+"/file/"+t,{method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){return e})}function U(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(W.a)(D,e.groupId);case 3:return t=n.sent,n.next=6,Object(W.b)(Object(q.T)(t));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(W.b)(Object(q.S)(n.t0));case 12:case"end":return n.stop()}},de,this,[[0,8]])}function D(t){return e(Z.a.API_BASE_URL+"/group/"+t+"/chat",{method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){return e})}function k(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(W.a)(G,e.groupId,e.text);case 3:return t=n.sent,n.next=6,Object(W.b)(Object(q._12)(t));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(W.b)(Object(q._11)(n.t0));case 12:case"end":return n.stop()}},le,this,[[0,8]])}function G(t,n){return e(Z.a.API_BASE_URL+"/group/"+t+"/chat",{method:"POST",headers:{"Content-Type":"application/json-patch+json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({text:n})}).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){return e})}function B(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(W.a)(L,e.groupId,e.title,e.text);case 3:return t.next=5,Object(W.b)(Object(q.i)());case 5:t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(0),t.next=11,Object(W.b)(Object(q.h)(t.t0));case 11:case"end":return t.stop()}},ge,this,[[0,7]])}function L(t,n,r){return e(Z.a.API_BASE_URL+"/group/"+t+"/course/review",{method:"POST",headers:{"Content-Type":"application/json-patch+json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({title:n,text:r})}).then(function(e){return e}).catch(function(e){return e})}function N(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(W.a)(z,e.tag);case 3:return t=n.sent,n.next=6,Object(W.b)(Object(q._0)(t));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(W.b)(Object(q.Z)(n.t0));case 12:case"end":return n.stop()}},fe,this,[[0,8]])}function z(t){return e(Z.a.API_BASE_URL+"/tags/search"+(t?"?tag="+t:"")).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){return e})}function H(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(W.a)(F,e.id);case 3:return t.next=5,Object(W.b)(Object(q.Q)());case 5:t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(0),t.next=11,Object(W.b)(Object(q.P)(t.t0));case 11:case"end":return t.stop()}},he,this,[[0,7]])}function F(t){return e(Z.a.API_BASE_URL+"/group/"+t+"/course",{method:"DELETE",headers:{"Content-Type":"application/json-patch+json",Authorization:"Bearer "+localStorage.getItem("token")}}).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){return e})}function V(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(W.a)(M,e.link);case 3:return t=n.sent,n.next=6,Object(W.b)(Object(q.p)(t));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(W.b)(Object(q.o)(n.t0));case 12:case"end":return n.stop()}},me,this,[[0,8]])}function M(t){return e(Z.a.API_BASE_URL+"/file/"+t,{method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then(function(e){return e.blob()}).then(function(e){return e}).catch(function(e){return e})}function J(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(W.c)(Y.M,r);case 2:return e.next=4,Object(W.c)(Y._5,o);case 4:return e.next=6,Object(W.c)(Y._2,a);case 6:return e.next=8,Object(W.c)(Y.F,c);case 8:return e.next=10,Object(W.c)(Y.q,h);case 10:return e.next=12,Object(W.c)(Y.C,b);case 12:return e.next=14,Object(W.c)(Y.z,v);case 14:return e.next=16,Object(W.c)(Y.t,y);case 16:return e.next=18,Object(W.c)(Y.w,g);case 18:return e.next=20,Object(W.c)(Y.I,d);case 20:return e.next=22,Object(W.c)(Y._7,S);case 22:return e.next=24,Object(W.c)(Y.e,C);case 24:return e.next=26,Object(W.c)(Y.b,E);case 26:return e.next=28,Object(W.c)(Y.l,x);case 28:return e.next=30,Object(W.c)(Y.V,A);case 30:return e.next=32,Object(W.c)(Y.S,U);case 32:return e.next=34,Object(W.c)(Y._11,k);case 34:return e.next=36,Object(W.c)(Y.h,B);case 36:return e.next=38,Object(W.c)(Y.Y,N);case 38:return e.next=40,Object(W.c)(Y.P,H);case 40:return e.next=42,Object(W.c)(Y.o,V);case 42:case"end":return e.stop()}},be,this)}t.a=J;var W=n("./node_modules/redux-saga/es/effects.js"),q=n("./app/containers/GroupPage/actions.js"),Y=n("./app/containers/GroupPage/constants.js"),Z=n("./app/config.js"),$=regeneratorRuntime.mark(r),K=regeneratorRuntime.mark(o),Q=regeneratorRuntime.mark(a),X=regeneratorRuntime.mark(c),ee=regeneratorRuntime.mark(d),te=regeneratorRuntime.mark(g),ne=regeneratorRuntime.mark(h),re=regeneratorRuntime.mark(b),oe=regeneratorRuntime.mark(v),ae=regeneratorRuntime.mark(y),ie=regeneratorRuntime.mark(S),se=regeneratorRuntime.mark(C),ue=regeneratorRuntime.mark(E),ce=regeneratorRuntime.mark(x),pe=regeneratorRuntime.mark(A),de=regeneratorRuntime.mark(U),le=regeneratorRuntime.mark(k),ge=regeneratorRuntime.mark(B),fe=regeneratorRuntime.mark(N),he=regeneratorRuntime.mark(H),me=regeneratorRuntime.mark(V),be=regeneratorRuntime.mark(J)}).call(t,n("./node_modules/exports-loader/index.js?self.fetch!./node_modules/whatwg-fetch/fetch.js"))},"./app/containers/GroupPage/selectors.js":function(e,t,n){"use strict";n.d(t,"d",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return s}),n.d(t,"c",function(){return u});var r=n("./node_modules/reselect/es/index.js"),o=function(e){return e.get("groupPage")},a=function(){return Object(r.a)(o,function(e){return e.get("users")})},i=function(){return Object(r.a)(o,function(e){return e.get("needUpdate")})},s=function(){return Object(r.a)(o,function(e){return e.get("chat")})},u=function(){return Object(r.a)(o,function(e){return e.get("tags")})}}});