webpackJsonp([2],{"./app/containers/Header/actions.js":function(e,t,n){"use strict";function r(e){return{type:l.e,name:e}}function o(e){return{type:l.f,payload:e||[]}}function a(e){return{type:l.d,payload:e}}function s(e){return{type:l.b,title:e}}function i(e){return{type:l.c,payload:e||[]}}function c(e){return{type:l.a,payload:e}}t.d=r,t.f=o,t.e=a,t.a=s,t.c=i,t.b=c;var l=n("./app/containers/Header/constants.js")},"./app/containers/Header/constants.js":function(e,t,n){"use strict";n.d(t,"e",function(){return r}),n.d(t,"f",function(){return o}),n.d(t,"d",function(){return a}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return i}),n.d(t,"a",function(){return c});var r="GET_USERS_START",o="GET_USERS_SUCCESS",a="GET_USERS_FAILED",s="GET_GROUPS_START",i="GET_GROUPS_SUCCESS",c="GET_GROUPS_FAILED"},"./app/containers/Header/index.js":function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments[1];switch(t.type){case b.e:return e.set("pending",!0).set("name",t.name);case b.f:return e.set("pending",!1).set("users",t.payload);case b.d:return e.set("pending",!1).set("error",!0);case b.b:return e.set("pending",!0).set("name",t.title);case b.c:return e.set("pending",!1).set("groups",t.payload);case b.a:return e.set("pending",!1).set("error",!0);default:return e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{getUsers:function(t){return e(Object(h.d)(t))},getGroups:function(t){return e(Object(h.a)(t))}}}Object.defineProperty(t,"__esModule",{value:!0});var c=n("./node_modules/react/react.js"),l=n.n(c),u=(n("./node_modules/prop-types/index.js"),n("./node_modules/react-redux/es/index.js")),d=n("./node_modules/reselect/es/index.js"),p=n("./node_modules/redux/es/index.js"),f=n("./app/utils/injectSaga.js"),g=n("./app/utils/injectReducer.js"),m=function(e){return e.get("header")},h=n("./app/containers/Header/actions.js"),v=n("./node_modules/immutable/dist/immutable.js"),b=n("./app/containers/Header/constants.js"),y=Object(v.fromJS)({name:"",users:[],groups:[],pending:!1,error:!1}),j=r,S=n("./app/containers/Header/saga.js"),_=n("./node_modules/styled-components/dist/styled-components.es.js"),k=n("./app/globalJS.js"),x=n("./node_modules/react-router-dom/index.js"),I=n("./app/containers/SigningInForm/index.js"),C=n("./node_modules/antd/lib/index.js"),O=n("./app/config.js"),w=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,o){var a=t&&t.defaultProps,s=arguments.length-3;if(n||0===s||(n={}),n&&a)for(var i in a)void 0===n[i]&&(n[i]=a[i]);else n||(n=a||{});if(1===s)n.children=o;else if(s>1){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+3];n.children=c}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),L=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),N=C.Select.Option,R=C.Select.OptGroup,E=_.a.div.withConfig({displayName:"Header__Logo"})(["font-size: 36px;"]),A=w("div",{},void 0,"Мой аккаунт"),P=w("div",{},void 0,"Уведомления"),T=w(C.Menu.Item,{className:"unhover"},"1",w(x.Link,{className:"profile",to:"/registration"},void 0,w(C.Button,{type:"primary",htmlType:"button"},void 0,"Зарегистрироваться"))),U=w(C.Col,{span:12},void 0,"Пользователи"),H=w(C.Col,{span:12},void 0,"Группы"),G=w(x.Link,{className:"profile",to:"/registration"},void 0,w(C.Button,{type:"primary",htmlType:"submit"},void 0,"Зарегистрироваться")),V=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onSignInClick=function(){n.setState({signInVisible:!0})},n.handleCancel=function(){n.setState({signInVisible:!1})},n.logout=function(){localStorage.setItem("name",""),localStorage.setItem("avatarLink",""),localStorage.setItem("token",""),location.assign("/")},n.acc_menu=w(C.Menu,{},void 0,w(C.Menu.Item,{className:"menu-item"},"0",localStorage.getItem("token")?w(x.Link,{to:"/profile/"+Object(k.e)(localStorage.getItem("token")).UserId},void 0,A):null),w(C.Menu.Item,{className:"menu-item"},"1",localStorage.getItem("token")?w(x.Link,{to:"/profile/"+Object(k.e)(localStorage.getItem("token")).UserId+"/notifications"},void 0,P):null),w(C.Menu.Item,{className:"danger-menu-item menu-item"},"2",w("div",{style:{color:"red"},onClick:n.logout},void 0,"Выйти"))),n.menu=w(C.Menu,{},void 0,w(C.Menu.Item,{className:"unhover"},"0",w(C.Button,{className:"profile",style:{width:"100%"},htmlType:"button",onClick:n.onSignInClick},void 0,"Войти")),T),n.handleSelectChange=function(e){n.setState({searchValue:e}),n.props.getUsers(e),n.props.getGroups(e)},n.state={signInVisible:!1,searchValue:""},n.logout=n.logout.bind(n),n.onSignInClick=n.onSignInClick.bind(n),n.handleCancel=n.handleCancel.bind(n),n.handleSelectChange=n.handleSelectChange.bind(n),n}return s(t,e),L(t,[{key:"render",value:function(){return w(C.Row,{type:"flex",align:"middle",className:"header",style:{width:"100hr"}},void 0,w(C.Col,{xs:{span:8,offset:2},md:{span:4,offset:2}},void 0,w(E,{},void 0,w(x.Link,{to:"/",style:{color:"rgba(0,0,0,0.65)"}},void 0,"EduHub"))),w(C.Col,{md:{span:9,offset:1},lg:{span:7,offset:0},style:{position:"relative"}},void 0,w(C.Select,{mode:"combobox",className:"search",style:{width:"100%"},value:this.state.searchValue,placeholder:"Поиск",size:"large",defaultActiveFirstOption:!1,showArrow:!1,onChange:this.handleSelectChange},void 0,w(R,{label:w(C.Col,{},void 0,U,w(C.Col,{span:12,style:{textAlign:"right"}},void 0,w(x.Link,{to:"/users"+(this.state.searchValue?"?name="+this.state.searchValue:"")},void 0,"Показать больше")))},1,this.props.users.map(function(e,t){return t<3?w(N,{className:"search-option-item"},e.name,w(x.Link,{className:"search-user-link",to:"/profile/"+e.id,style:{display:"flex",alignItems:"center"}},void 0,w(C.Avatar,{src:e.avatarLink?O.a.API_BASE_URL+"/file/img/"+e.avatarLink:null,size:"large",style:{marginRight:10}}),w(C.Col,{},void 0,w("div",{},void 0,e.name),w("div",{style:{fontSize:12,opacity:.6}},void 0,e.email)))):""})),w(R,{label:w(C.Col,{},void 0,H,w(C.Col,{span:12,style:{textAlign:"right"}},void 0,w(x.Link,{to:"/groups"+(this.state.searchValue?"?name="+this.state.searchValue:"")},void 0,"Показать больше")))},2,this.props.groups.map(function(e,t){return t<3?w(N,{className:"search-option-item"},e.groupInfo.title,w(x.Link,{className:"search-user-link",to:"/group/"+e.groupInfo.id},void 0,w("div",{},void 0,e.groupInfo.title),w("div",{},void 0,e.groupInfo.tags.map(function(e){return w(x.Link,{to:"",style:{marginRight:6}},e,e)})))):""}))),w(C.Icon,{type:"search",className:"search",style:{fontSize:20,position:"absolute",top:10,right:10,opacity:.8}})),localStorage.getItem("token")?w(C.Col,{xs:{span:12},md:{span:6},lg:{span:9},style:{display:"flex",justifyContent:"flex-end"}},void 0,w(C.Dropdown,{overlay:this.acc_menu,trigger:["click"]},void 0,w("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"center",marginLeft:"36%"}},void 0,w(C.Avatar,{src:""!==localStorage.getItem("avatarLink")&&"null"!==localStorage.getItem("avatarLink")?O.a.API_BASE_URL+"/file/img/"+localStorage.getItem("avatarLink"):null,size:"large",style:{backgroundColor:"#fff",color:"rgba(0,0,0,0.65)",minHeight:40,minWidth:40,cursor:"pointer"}}),w("span",{className:"userName",style:{whiteSpace:"nowrap",cursor:"pointer"}},void 0,localStorage.getItem("name"))))):w(C.Col,{xs:{span:12},md:{span:6},lg:{span:9},style:{display:"flex",justifyContent:"flex-end"}},void 0,w(C.Dropdown,{className:"unregistered-person",overlay:this.menu,trigger:["click"]},void 0,w("img",{className:"menu-btn",style:{width:26,height:26,cursor:"pointer"},src:n("./app/images/menu.svg"),alt:""})),w(C.Button,{className:"profile",htmlType:"button",onClick:this.onSignInClick,style:{marginRight:"4%"}},void 0,"Войти"),w(I.a,{visible:this.state.signInVisible,handleCancel:this.handleCancel}),G))}}]),t}(l.a.PureComponent);V.defaultProps={users:"true"===localStorage.getItem("withoutServer")?["Первый пользователь","Второй пользователь","Третий пользователь","Четвертый пользователь","Пятый пользователь"]:[],groups:"true"===localStorage.getItem("withoutServer")?[{title:"Первая группа",tags:["js","c#"]},{title:"Вторая группа",tags:["js","react"]},{title:"Третья группа",tags:["c#",".Net"]},{title:"Четвертая группа",tags:["c#",".Net"]},{title:"Пятая группа",tags:["c#",".Net"]}]:[]};var B=Object(d.b)({users:function(){return Object(d.a)(m,function(e){return e.get("users")})}(),groups:function(){return Object(d.a)(m,function(e){return e.get("groups")})}()}),M=Object(u.b)(B,i),z=Object(g.a)({key:"header",reducer:j}),D=Object(f.a)({key:"header",saga:S.a});t.default=Object(p.c)(z,D,M)(V)},"./app/containers/Header/saga.js":function(e,t,n){"use strict";(function(e){function r(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(c.a)(o,e.name);case 3:return t=n.sent,n.next=6,Object(c.b)(Object(u.f)(t.users));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(c.b)(Object(u.e)(n.t0));case 12:case"end":return n.stop()}},p,this,[[0,8]])}function o(t){return e(d.a.API_BASE_URL+"/users/search/"+t).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){return e})}function a(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(c.a)(s,e.title);case 3:return t=n.sent,n.next=6,Object(c.b)(Object(u.c)(t));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(c.b)(Object(u.b)(n.t0));case 12:case"end":return n.stop()}},f,this,[[0,8]])}function s(t){return e(d.a.API_BASE_URL+"/group/search?type=Default&formed=false&minPrice=0&maxPrice=10000"+(""!==t?"&title="+t:"")).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){return e})}function i(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.c)(l.e,r);case 2:return e.next=4,Object(c.c)(l.b,a);case 4:case"end":return e.stop()}},g,this)}t.a=i;var c=n("./node_modules/redux-saga/es/effects.js"),l=n("./app/containers/Header/constants.js"),u=n("./app/containers/Header/actions.js"),d=n("./app/config.js"),p=regeneratorRuntime.mark(r),f=regeneratorRuntime.mark(a),g=regeneratorRuntime.mark(i)}).call(t,n("./node_modules/exports-loader/index.js?self.fetch!./node_modules/whatwg-fetch/fetch.js"))},"./app/images/menu.svg":function(e,t,n){e.exports=n.p+"91f551a1ed6bf78427aa2d5ef0420925.svg"}});