webpackJsonp([2],{"./app/components/InviteCard/index.js":function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){return{acceptInvitation:function(t,n){return e(Object(b.a)(t,n))},declineInvitation:function(t,n){return e(Object(b.a)(t,n))}}}var s=n("./node_modules/react/react.js"),c=n.n(s),u=n("./node_modules/prop-types/index.js"),l=(n.n(u),n("./node_modules/react-redux/es/index.js")),d=n("./node_modules/reselect/es/index.js"),p=n("./node_modules/redux/es/index.js"),f=n("./app/utils/injectSaga.js"),v=n("./app/utils/injectReducer.js"),g=n("./app/containers/NotificationPage/reducer.js"),h=n("./app/containers/NotificationPage/saga.js"),b=n("./app/containers/NotificationPage/actions.js"),m=n("./app/globalJS.js"),y=n("./node_modules/antd/lib/index.js"),S=(n.n(y),function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,i){var r=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&r)for(var s in r)void 0===n[s]&&(n[s]=r[s]);else n||(n=r||{});if(1===a)n.children=i;else if(a>1){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+3];n.children=c}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}()),j=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),O=S("div",{className:"not-readed-btn"}),T=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.tryAccept=n.tryAccept.bind(n),n.tryDecline=n.tryDecline.bind(n),n}return r(t,e),j(t,[{key:"tryAccept",value:function(){"true"!==localStorage.getItem("without_server")&&this.props.acceptInvitation(this.props.id,"Accepted")}},{key:"tryDecline",value:function(){"true"!==localStorage.getItem("without_server")&&this.props.declineInvitation(this.props.id,"Declined")}},{key:"render",value:function(){return S(y.Card,{hoverable:!0,className:"notify-card",style:{width:"100%",cursor:"default"},bodyStyle:{padding:"14px 20px 0 20px"}},void 0,O,S(y.Row,{style:{marginBottom:12}},void 0,S(y.Col,{span:12},void 0,S("span",{style:{fontSize:14,opacity:.9}},void 0,this.props.fromUserName))),S(y.Row,{},void 0,S(y.Col,{xs:{span:24},sm:{span:12},style:{marginBottom:10}},void 0,S("span",{style:{wordWrap:"break-word"}},void 0,'Вас пригласили в группу "',this.props.toGroupTitle,'" на роль "',Object(m.g)(this.props.suggestedRole),'"')),S(y.Col,{xs:{span:24},sm:{span:12},style:{textAlign:"right"}},void 0,S(y.Button,{type:"primary",style:{marginRight:12,marginBottom:14},onClick:this.tryAccept},void 0,"Принять"),S(y.Button,{onClick:this.tryDecline},void 0,"Отклонить"))))}}]),t}(c.a.PureComponent),C=Object(d.b)({}),w=Object(l.b)(C,a),x=Object(v.a)({key:"notificationPage",reducer:g.a}),_=Object(f.a)({key:"notificationPage",saga:h.a});t.a=Object(p.c)(x,_,w)(T)},"./app/components/NotifyCard/index.js":function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){return{downloadCourseFile:function(t){return e(Object(f.d)(t))}}}var s=n("./node_modules/react/react.js"),c=n.n(s),u=n("./node_modules/prop-types/index.js"),l=(n.n(u),n("./app/globalJS.js")),d=n("./node_modules/reselect/es/index.js"),p=n("./node_modules/react-redux/es/index.js"),f=n("./app/containers/NotificationPage/actions.js"),v=n("./node_modules/antd/lib/index.js"),g=(n.n(v),n("./app/config.js"),function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,i){var r=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&r)for(var s in r)void 0===n[s]&&(n[s]=r[s]);else n||(n=r||{});if(1===a)n.children=i;else if(a>1){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+3];n.children=c}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}()),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),b=g("div",{className:"not-readed-btn"}),m=function(e){function t(e){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return r(t,e),h(t,[{key:"render",value:function(){var e=this,t=JSON.parse(this.props.notificationInfo);return g(v.Card,{hoverable:!0,className:"notify-card",style:{width:"100%",cursor:"default",position:"relative",overflow:"visible"},bodyStyle:{padding:"14px 20px"}},void 0,b,g(v.Row,{},void 0,g(v.Col,{span:16},void 0,g("span",{},void 0,1===this.props.notificationType?"Преподаватель "+t.TeacherName+' завершил курс в группе "'+t.GroupTitle+'"':2===this.props.notificationType?'Учебный план группы "'+t.GroupTitle+'" принят':3===this.props.notificationType?"Пользователь "+t.DeclinedName+' отклонил учебный план группы "'+t.GroupTitle+'"':4===this.props.notificationType?g("div",{},void 0,g("span",{style:{display:"block"}},void 0,"В группе ",t.GroupTitle," предложен учебный план"),g("a",{target:"_blank",onClick:function(){return e.props.downloadCourseFile(t.CurriculumLink)}},void 0,"Скачать учебный план")):5===this.props.notificationType?'Группа "'+t.GroupTitle+'" сформирована':6===this.props.notificationType?"Пользователь "+t.InvitedName+' принял ваше приглашение в группу "'+t.GroupTitle+'"':7===this.props.notificationType?"Пользователь "+t.InvitedName+' отклонил ваше приглашение в группу "'+t.GroupTitle+'"':8===this.props.notificationType?"Пользователь "+t.InviterName+' пригласил вас в группу "'+t.GroupTitle+'" на роль "'+Object(l.g)(t.SuggestedRole)+'"':9===this.props.notificationType?"Пользователь "+t.Username+' покинул группу "'+t.GroupTitle+'"':10===this.props.notificationType?"Пользователь "+t.NewCreatorUsername+' стал новым создателем группы "'+t.GroupTitle+'"':11===this.props.notificationType?"Пользователь "+t.Username+' присоединился в группу "'+t.GroupTitle+'"':12===this.props.notificationType?"Пользователь "+t.SenderName+" отправил репорт на пользователя "+t.SuspectedName+' за нарушение правила "'+t.BrokenRule+'"':13===this.props.notificationType?"Пользователь "+t.ReviewerName+' оставил отзыв о преподавателе группы "'+t.GroupTitle+'"':14===this.props.notificationType?'К вам была применена санкция "'+Object(l.k)(t.SanctionType)+'" за нарушение правила "'+t.BrokenRule+'"':15===this.props.notificationType?"К пользователю "+t.Username+' была применена санкция "'+Object(l.k)(t.SanctionType)+'" за нарушение правила "'+t.BrokenRule+'"':16===this.props.notificationType?"Пользователь "+t.TeacherName+' стал новым учителем группы "'+t.GroupTitle+'"':17===this.props.notificationType?'Примененная к вам санкция "'+Object(l.k)(t.SanctionType)+'" за нарушение правила "'+t.BrokenRule+'" была отменена':18===this.props.notificationType?"Примененная к пользователю "+t.Username+' санкция "'+Object(l.k)(t.SanctionType)+'" за нарушение правила "'+t.BrokenRule+'" была отменена':"")),g(v.Col,{span:8,style:{textAlign:"right"}},void 0,g("span",{style:{fontSize:14,opacity:.7}},void 0,(new Date(this.props.occurredOn).getDate()<10?"0"+new Date(this.props.occurredOn).getDate():new Date(this.props.occurredOn).getDate())+"."+(+new Date(this.props.occurredOn).getMonth()+1<10?"0"+ +(new Date(this.props.occurredOn).getMonth()+1):+new Date(this.props.occurredOn).getMonth()+1)+"."+new Date(this.props.occurredOn).getFullYear()+"\n                      "+(new Date(this.props.occurredOn).getHours()<10?"0"+new Date(this.props.occurredOn).getHours():new Date(this.props.occurredOn).getHours())+":"+(new Date(this.props.occurredOn).getMinutes()<10?"0"+new Date(this.props.occurredOn).getMinutes():new Date(this.props.occurredOn).getMinutes())))),g(v.Row,{},void 0,g("span",{style:{wordWrap:"break-word"}},void 0,this.props.text)))}}]),t}(c.a.PureComponent),y=Object(d.b)({});t.a=Object(p.b)(y,a)(m)},"./app/containers/NotificationPage/actions.js":function(e,t,n){"use strict";function o(e,t){return{type:S.b,invitationId:e,status:t}}function i(e,t){return{type:S.c,groupId:e,status:t}}function r(e){return{type:S.a,error:e}}function a(){return{type:S.n}}function s(e){return{type:S.o,notifies:e}}function c(e){return{type:S.j,error:e}}function u(){return{type:S.h}}function l(e){return{type:S.i,invites:e}}function d(e){return{type:S.g,error:e}}function p(e){return{type:S.e,link:e}}function f(e){return{type:S.f,file:e}}function v(e){return{type:S.d,error:e}}function g(e){return{type:S.m,settings:e}}function h(e){return{type:S.k,error:e}}function b(e,t){return{type:S.q,notifyType:e,settingType:t}}function m(){return{type:S.r}}function y(e){return{type:S.p,error:e}}t.a=o,t.c=i,t.b=r,t.j=a,t.n=s,t.k=c,t.g=u,t.i=l,t.h=d,t.d=p,t.f=f,t.e=v,t.m=g,t.l=h,t.o=b,t.q=m,t.p=y;var S=n("./app/containers/NotificationPage/constants.js")},"./app/containers/NotificationPage/constants.js":function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"a",function(){return r}),n.d(t,"n",function(){return a}),n.d(t,"o",function(){return s}),n.d(t,"j",function(){return c}),n.d(t,"h",function(){return u}),n.d(t,"i",function(){return l}),n.d(t,"g",function(){return d}),n.d(t,"e",function(){return p}),n.d(t,"f",function(){return f}),n.d(t,"d",function(){return v}),n.d(t,"l",function(){return g}),n.d(t,"m",function(){return h}),n.d(t,"k",function(){return b}),n.d(t,"q",function(){return m}),n.d(t,"r",function(){return y}),n.d(t,"p",function(){return S});var o="CHANGE_INVITATION_STATUS_START",i="CHANGE_INVITATION_STATUS_SUCCESS",r="CHANGE_INVITATION_STATUS_FAILED",a="GET_NOTIFIES_START",s="GET_NOTIFIES_SUCCESS",c="GET_NOTIFIES_FAILED",u="GET_INVITES_START",l="GET_INVITES_SUCCESS",d="GET_INVITES_FAILED",p="DOWNLOAD_COURSE_PLAN_START",f="DOWNLOAD_COURSE_PLAN_SUCCESS",v="DOWNLOAD_COURSE_PLAN_FAILED",g="GET_NOTIFIES_SETTINGS_START",h="GET_NOTIFIES_SETTINGS_SUCCESS",b="GET_NOTIFIES_SETTINGS_FAILED",m="SET_NOTIFY_SETTING_START",y="SET_NOTIFY_SETTING_SUCCESS",S="SET_NOTIFY_SETTING_FAILED"},"./app/containers/NotificationPage/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{getNotifies:function(){return e(Object(y.j)())},getInvites:function(){return e(Object(y.g)())},setNotifySetting:function(t,n){return e(Object(y.o)(t,n))}}}n.d(t,"NotificationPage",function(){return Pe});var c=n("./node_modules/react/react.js"),u=n.n(c),l=n("./node_modules/prop-types/index.js"),d=(n.n(l),n("./node_modules/react-redux/es/index.js")),p=n("./node_modules/reselect/es/index.js"),f=n("./node_modules/redux/es/index.js"),v=n("./app/utils/injectSaga.js"),g=n("./app/utils/injectReducer.js"),h=n("./app/containers/NotificationPage/selectors.js"),b=n("./app/containers/NotificationPage/reducer.js"),m=n("./app/containers/NotificationPage/saga.js"),y=n("./app/containers/NotificationPage/actions.js"),S=n("./app/components/NotifyCard/index.js"),j=n("./app/components/InviteCard/index.js"),O=n("./node_modules/antd/lib/index.js"),T=(n.n(O),n("./app/globalJS.js")),C=n("./app/config.js"),w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},x=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,i){var r=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&r)for(var s in r)void 0===n[s]&&(n[s]=r[s]);else n||(n=r||{});if(1===a)n.children=i;else if(a>1){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+3];n.children=c}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),_=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),N=O.Tabs.TabPane,I=O.Form.Item,E=O.Select.Option,A=[{id:"1233123124",fromUser:"Имя отправителя",date:(new Date).toDateString(),text:"Текст уведомления",readed:!1},{id:"dasqdsad",fromUser:"Имя отправителя",date:(new Date).toDateString(),text:"Текст уведомления",readed:!0},{id:"qwersifhxjk",fromUser:"Имя отправителя",date:(new Date).toDateString(),text:"Текст уведомления",readed:!0}],R=[{id:"dasqdsadsdfsdf",fromUser:"fdspijfjlkf",fromUserName:"Имя отправителя",date:(new Date).toDateString(),toGroup:"32478643981654",toGroupTitle:"JS Juniors",suggestedRole:"Участник",readed:!1},{id:"dasqdsddsfwee",fromUser:"324gj3h4j1",fromUserName:"Имя отправителя",date:(new Date).toDateString(),toGroup:"dr32847363274",toGroupTitle:"C# Juniors",suggestedRole:"Участник",readed:!0}],D=x(O.Row,{},void 0,x(O.Divider,{})),k=x(E,{value:"DontSend"},void 0,"Не отправлять"),U=x(E,{value:"ToMail"},void 0,"На почту"),P=x(E,{value:"OnSite"},void 0,"На сайте"),G=x(E,{value:"Everywhere"},void 0,"Везде"),B=x(E,{value:"DontSend"},void 0,"Не отправлять"),F=x(E,{value:"ToMail"},void 0,"На почту"),M=x(E,{value:"OnSite"},void 0,"На сайте"),L=x(E,{value:"Everywhere"},void 0,"Везде"),H=x(E,{value:"DontSend"},void 0,"Не отправлять"),J=x(E,{value:"ToMail"},void 0,"На почту"),q=x(E,{value:"OnSite"},void 0,"На сайте"),z=x(E,{value:"Everywhere"},void 0,"Везде"),V=x(E,{value:"DontSend"},void 0,"Не отправлять"),W=x(E,{value:"ToMail"},void 0,"На почту"),$=x(E,{value:"OnSite"},void 0,"На сайте"),Y=x(E,{value:"Everywhere"},void 0,"Везде"),K=x(E,{value:"DontSend"},void 0,"Не отправлять"),Q=x(E,{value:"ToMail"},void 0,"На почту"),X=x(E,{value:"OnSite"},void 0,"На сайте"),Z=x(E,{value:"Everywhere"},void 0,"Везде"),ee=x(E,{value:"DontSend"},void 0,"Не отправлять"),te=x(E,{value:"ToMail"},void 0,"На почту"),ne=x(E,{value:"OnSite"},void 0,"На сайте"),oe=x(E,{value:"Everywhere"},void 0,"Везде"),ie=x(E,{value:"DontSend"},void 0,"Не отправлять"),re=x(E,{value:"ToMail"},void 0,"На почту"),ae=x(E,{value:"OnSite"},void 0,"На сайте"),se=x(E,{value:"Everywhere"},void 0,"Везде"),ce=x(E,{value:"DontSend"},void 0,"Не отправлять"),ue=x(E,{value:"ToMail"},void 0,"На почту"),le=x(E,{value:"OnSite"},void 0,"На сайте"),de=x(E,{value:"Everywhere"},void 0,"Везде"),pe=x(E,{value:"DontSend"},void 0,"Не отправлять"),fe=x(E,{value:"ToMail"},void 0,"На почту"),ve=x(E,{value:"OnSite"},void 0,"На сайте"),ge=x(E,{value:"Everywhere"},void 0,"Везде"),he=x(E,{value:"DontSend"},void 0,"Не отправлять"),be=x(E,{value:"ToMail"},void 0,"На почту"),me=x(E,{value:"OnSite"},void 0,"На сайте"),ye=x(E,{value:"Everywhere"},void 0,"Везде"),Se=x(E,{value:"DontSend"},void 0,"Не отправлять"),je=x(E,{value:"ToMail"},void 0,"На почту"),Oe=x(E,{value:"OnSite"},void 0,"На сайте"),Te=x(E,{value:"Everywhere"},void 0,"Везде"),Ce=x(E,{value:"DontSend"},void 0,"Не отправлять"),we=x(E,{value:"ToMail"},void 0,"На почту"),xe=x(E,{value:"OnSite"},void 0,"На сайте"),_e=x(E,{value:"Everywhere"},void 0,"Везде"),Ne=x(E,{value:"DontSend"},void 0,"Не отправлять"),Ie=x(E,{value:"ToMail"},void 0,"На почту"),Ee=x(E,{value:"OnSite"},void 0,"На сайте"),Ae=x(E,{value:"Everywhere"},void 0,"Везде"),Re=x(E,{value:"DontSend"},void 0,"Не отправлять"),De=x(E,{value:"ToMail"},void 0,"На почту"),ke=x(E,{value:"OnSite"},void 0,"На сайте"),Ue=x(E,{value:"Everywhere"},void 0,"Везде"),Pe=function(t){function n(t){i(this,n);var a=r(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return a.getNotifiesSettings=function(){return e(C.a.API_BASE_URL+"/user/profile/notifications/settings",{method:"GET",headers:{"Content-Type":"application/json-patch+json",Authorization:"Bearer "+localStorage.getItem("token")}}).then(function(e){return e.json()}).then(function(e){return a.onSetResult(e)}).catch(function(e){return e})},a.onSetResult=function(e){a.setState({CourseFinished:e.CourseFinished,CurriculumAccepted:e.CurriculumAccepted,CurriculumDeclined:e.CurriculumDeclined,CurriculumSuggested:e.CurriculumSuggested,GroupIsFormed:e.GroupIsFormed,InvitationAccepted:e.InvitationAccepted,InvitationDeclined:e.InvitationDeclined,InvitationReceived:e.InvitationReceived,MemberLeft:e.MemberLeft,NewCreator:e.NewCreator,NewMember:e.NewMember,ReviewReceived:e.ReviewReceived,SanctionsAppliedToUser:e.SanctionsAppliedToUser,SanctionsCancelledToUser:e.SanctionsCancelledToUser,TeacherFound:e.TeacherFound})},a.showSettingBtn=function(){document.getElementById("setting-btn").classList.remove("notify-setting-btn-hidden"),document.getElementById("setting-btn").classList.add("notify-setting-btn")},a.hideSettingBtn=function(){document.getElementById("setting-btn").classList.remove("notify-setting-btn"),document.getElementById("setting-btn").classList.add("notify-setting-btn-hidden")},a.onHandleSettingChange=function(e,t){a.setState(o({},e,Object(T.i)(t))),setTimeout(function(){return a.props.setNotifySetting(e,t)},0)},a.state={needUpdate:a.props.needUpdate,isEditing:!1,CourseFinished:4,CurriculumAccepted:4,CurriculumDeclined:4,CurriculumSuggested:4,GroupIsFormed:4,InvitationAccepted:4,InvitationDeclined:4,InvitationReceived:4,MemberLeft:4,NewCreator:4,NewMember:4,ReviewReceived:4,SanctionsAppliedToUser:4,SanctionsCancelledToUser:4,TeacherFound:4},a.showSettingBtn=a.showSettingBtn.bind(a),a.hideSettingBtn=a.hideSettingBtn.bind(a),a.onHandleSettingChange=a.onHandleSettingChange.bind(a),a.getNotifiesSettings=a.getNotifiesSettings.bind(a),a.onSetResult=a.onSetResult.bind(a),a}return a(n,t),_(n,[{key:"componentDidMount",value:function(){"true"===localStorage.getItem("without_server")?this.setState({notifies:this.notifies,invites:this.invites}):(this.props.getNotifies(),this.props.getInvites(),this.getNotifiesSettings())}},{key:"componentDidUpdate",value:function(e,t){e.needUpdate!==this.props.needUpdate&&this.componentDidMount()}},{key:"render",value:function(){var e=this;return x(O.Row,{className:"notify-tabs"},void 0,this.state.isEditing?x(O.Col,{xs:{span:22,offset:1},sm:{span:20,offset:2},lg:{span:12,offset:6}},void 0,x(O.Row,{style:{textAlign:"center",marginTop:40}},void 0,x("h4",{style:{marginBottom:0}},void 0,"Настройка уведомлений")),D,x(O.Row,{style:{marginTop:0},className:"notify-settings"},void 0,x(I,{labelCol:{xs:{span:24},sm:{span:14}},colon:!1,label:"Уведомления о завершении курса"},void 0,x(O.Col,{className:"xs-text-align-left"},void 0,x(O.Select,{value:Object(T.h)(this.state.CourseFinished),onChange:function(t){return e.onHandleSettingChange("CourseFinished",t)},style:{width:180}},void 0,k,U,P,G))),x(I,{labelCol:{xs:{span:24},sm:{span:14}},colon:!1,label:"Уведомления о принятии плана курса"},void 0,x(O.Col,{className:"xs-text-align-left"},void 0,x(O.Select,{value:Object(T.h)(this.state.CurriculumAccepted),onChange:function(t){return e.onHandleSettingChange("CurriculumAccepted",t)},style:{width:180}},void 0,B,F,M,L))),x(I,{labelCol:{xs:{span:24},sm:{span:14}},colon:!1,label:"Уведомления об отклонении плана курса"},void 0,x(O.Col,{className:"xs-text-align-left"},void 0,x(O.Select,{value:Object(T.h)(this.state.CurriculumDeclined),onChange:function(t){return e.onHandleSettingChange("CurriculumDeclined",t)},style:{width:180}},void 0,H,J,q,z))),x(I,{labelCol:{xs:{span:24},sm:{span:14}},colon:!1,label:"Уведомления о предложении плана курса"},void 0,x(O.Col,{className:"xs-text-align-left"},void 0,x(O.Select,{value:Object(T.h)(this.state.CurriculumSuggested),onChange:function(t){return e.onHandleSettingChange("CurriculumSuggested",t)},style:{width:180}},void 0,V,W,$,Y))),x(I,{labelCol:{xs:{span:24},sm:{span:14}},colon:!1,label:"Уведомления о формировании группы"},void 0,x(O.Col,{className:"xs-text-align-left"},void 0,x(O.Select,{value:Object(T.h)(this.state.GroupIsFormed),onChange:function(t){return e.onHandleSettingChange("GroupIsFormed",t)},style:{width:180}},void 0,K,Q,X,Z))),x(I,{labelCol:{xs:{span:24},sm:{span:14}},colon:!1,label:"Уведомления о принятии приглашения"},void 0,x(O.Col,{className:"xs-text-align-left"},void 0,x(O.Select,{value:Object(T.h)(this.state.InvitationAccepted),onChange:function(t){return e.onHandleSettingChange("InvitationAccepted",t)},style:{width:180}},void 0,ee,te,ne,oe))),x(I,{labelCol:{xs:{span:24},sm:{span:14}},colon:!1,label:"Уведомления об откланении приглашения"},void 0,x(O.Col,{className:"xs-text-align-left"},void 0,x(O.Select,{value:Object(T.h)(this.state.InvitationDeclined),onChange:function(t){return e.onHandleSettingChange("InvitationDeclined",t)},style:{width:180}},void 0,ie,re,ae,se))),x(I,{labelCol:{xs:{span:24},sm:{span:14}},colon:!1,label:"Уведомления о получении приглашения"},void 0,x(O.Col,{className:"xs-text-align-left"},void 0,x(O.Select,{value:Object(T.h)(this.state.InvitationReceived),onChange:function(t){return e.onHandleSettingChange("InvitationReceived",t)},style:{width:180}},void 0,ce,ue,le,de))),x(I,{labelCol:{xs:{span:24},sm:{span:14}},colon:!1,label:"Уведомления о выходе из группы"},void 0,x(O.Col,{className:"xs-text-align-left"},void 0,x(O.Select,{value:Object(T.h)(this.state.MemberLeft),onChange:function(t){return e.onHandleSettingChange("MemberLeft",t)},style:{width:180}},void 0,pe,fe,ve,ge))),x(I,{labelCol:{xs:{span:24},sm:{span:14}},colon:!1,label:"Уведомления о вступлении в группу"},void 0,x(O.Col,{className:"xs-text-align-left"},void 0,x(O.Select,{value:Object(T.h)(this.state.NewMember),onChange:function(t){return e.onHandleSettingChange("NewMember",t)},style:{width:180}},void 0,he,be,me,ye))),x(I,{labelCol:{xs:{span:24},sm:{span:14}},colon:!1,label:"Уведомления о получении отзыва"},void 0,x(O.Col,{className:"xs-text-align-left"},void 0,x(O.Select,{value:Object(T.h)(this.state.ReviewReceived),onChange:function(t){return e.onHandleSettingChange("ReviewReceived",t)},style:{width:180}},void 0,Se,je,Oe,Te))),x(I,{labelCol:{xs:{span:24},sm:{span:14}},colon:!1,label:"Уведомления, если к вам применили санкцию"},void 0,x(O.Col,{className:"xs-text-align-left"},void 0,x(O.Select,{value:Object(T.h)(this.state.SanctionsAppliedToUser),onChange:function(t){return e.onHandleSettingChange("SanctionsAppliedToUser",t)},style:{width:180}},void 0,Ce,we,xe,_e))),x(I,{labelCol:{xs:{span:24},sm:{span:14}},colon:!1,label:"Уведомления о вступлении учителя в группу"},void 0,x(O.Col,{className:"xs-text-align-left"},void 0,x(O.Select,{value:Object(T.h)(this.state.TeacherFound),onChange:function(t){return e.onHandleSettingChange("TeacherFound",t)},style:{width:180}},void 0,Ne,Ie,Ee,Ae))),x(I,{labelCol:{xs:{span:24},sm:{span:14}},colon:!1,label:"Уведомления, если санкцию, примененную к вам, отменили"},void 0,x(O.Col,{className:"xs-text-align-left"},void 0,x(O.Select,{value:Object(T.h)(this.state.SanctionsCancelledToUser),onChange:function(t){return e.onHandleSettingChange("SanctionsCancelledToUser",t)},style:{width:180}},void 0,Re,De,ke,Ue))),x(O.Col,{style:{marginTop:20,textAlign:"center",marginBottom:40}},void 0,x(O.Button,{onClick:function(){return e.setState({isEditing:!1})},style:{minWidth:200}},void 0,"Назад")))):x(O.Col,{className:"notify-area",onMouseEnter:this.showSettingBtn,onMouseLeave:this.hideSettingBtn,xs:{span:22,offset:1},sm:{span:20,offset:2},lg:{span:12,offset:6}},void 0,x(O.Icon,{id:"setting-btn",onClick:function(){return e.setState({isEditing:!0})},className:"notify-setting-btn-hidden",type:"setting"}),x(O.Tabs,{defaultActiveKey:"1",style:{margin:"30px 0"}},void 0,x(N,{tab:"Уведомления",style:{margin:"30px 0"}},"1","true"===localStorage.getItem("withoutServer")?x("div",{},void 0,A.reverse().map(function(e){return u.a.createElement(S.a,w({key:e.id},e))})):x("div",{},void 0,this.props.notifies.map(function(e,t){return u.a.createElement(S.a,w({key:t},e))}))),x(N,{tab:"Приглашения",style:{margin:"30px 0"}},"2","true"===localStorage.getItem("withoutServer")?x("div",{},void 0,R.reverse().map(function(e){return u.a.createElement(j.a,w({key:e.id},e))})):x("div",{},void 0,this.props.invites.map(function(e){return u.a.createElement(j.a,w({key:e.id},e))}))))))}}]),n}(u.a.Component);Pe.defaultProps={settings:{CourseFinished:4,CurriculumAccepted:4,CurriculumDeclined:4,CurriculumSuggested:4,GroupIsFormed:4,InvitationAccepted:4,InvitationDeclined:4,InvitationReceived:4,MemberLeft:4,NewCreator:4,NewMember:4,ReviewReceived:4,SanctionsAppliedToUser:4,SanctionsCancelledToUser:4,TeacherFound:4}};var Ge=Object(p.b)({notifies:Object(h.c)(),invites:Object(h.a)(),needUpdate:Object(h.b)()}),Be=Object(d.b)(Ge,s),Fe=Object(g.a)({key:"notificationPage",reducer:b.a}),Me=Object(v.a)({key:"notificationPage",saga:m.a});t.default=Object(f.c)(Fe,Me,Be)(Pe)}.call(t,n("./node_modules/exports-loader/index.js?self.fetch!./node_modules/whatwg-fetch/fetch.js"))},"./app/containers/NotificationPage/reducer.js":function(e,t,n){"use strict";function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case r.b:return"Accepted"===t.status?e.set("pending",!0).set("needUpdate",!1):e.set("pending",!0).set("needUpdate",!0);case r.c:return t.groupId&&"Accepted"===t.status&&location.assign("/group/"+t.groupId),e.set("pending",!1).set("needUpdate",!1);case r.a:return e.set("pending",!1).set("error",!0).set("needUpdate",!1);case r.n:return e.set("pending",!0);case r.o:return e.set("pending",!1).set("notifies",t.notifies);case r.j:return e.set("pending",!1).set("error",!0);case r.h:return e.set("pending",!0);case r.i:return e.set("pending",!1).set("invites",t.invites);case r.g:return e.set("pending",!1).set("error",!0);case r.e:return e.set("pending",!0);case r.f:var n=document.createElement("a"),o=URL.createObjectURL(t.file);return n.href=o,n.download="plan",document.body.appendChild(n),n.click(),setTimeout(function(){document.body.removeChild(n),URL.revokeObjectURL(o)},0),e.set("pending",!1).set("error",!1);case r.d:return a.message.error("Не удалось загузить файл!"),e.set("pending",!1).set("error",!0);case r.l:return e.set("pending",!0);case r.m:return e.set("pending",!1).set("notifiesSettings",t.settings);case r.k:return e.set("pending",!1).set("error",!0);case r.q:return e.set("pending",!0).set("needUpdate",!0);case r.r:return e.set("pending",!1).set("needUpdate",!1);case r.p:return e.set("pending",!1).set("error",!0).set("needUpdate",!1);default:return e}}var i=n("./node_modules/immutable/dist/immutable.js"),r=(n.n(i),n("./app/containers/NotificationPage/constants.js")),a=n("./node_modules/antd/lib/index.js"),s=(n.n(a),Object(i.fromJS)({notifies:[],invites:[],notifiesSettings:{},pending:!1,error:!1,needUpdate:!1}));t.a=o},"./app/containers/NotificationPage/saga.js":function(e,t,n){"use strict";(function(e){function o(e){var t,n;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,t=e.status,o.next=4,Object(h.a)(c,e.invitationId,e.status);case 4:return n=o.sent,o.next=7,Object(h.b)(Object(y.c)(n.groupId,t));case 7:o.next=13;break;case 9:return o.prev=9,o.t0=o.catch(0),o.next=13,Object(h.b)(Object(y.b)(o.t0));case 13:case"end":return o.stop()}},S,this,[[0,9]])}function i(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(h.a)(a);case 3:return e=t.sent,t.next=6,Object(h.b)(Object(y.n)(e.reverse()));case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(h.b)(Object(y.k)(t.t0));case 12:case"end":return t.stop()}},j,this,[[0,8]])}function r(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(h.a)(s);case 3:return e=t.sent,t.next=6,Object(h.b)(Object(y.i)(e.invitations.reverse()));case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(h.b)(Object(y.h)(t.t0));case 12:case"end":return t.stop()}},O,this,[[0,8]])}function a(){return e(b.a.API_BASE_URL+"/user/profile/notifications",{headers:{"Content-Type":"application/json-patch+json",Authorization:"Bearer "+localStorage.getItem("token")}}).then(function(e){return e.json()}).catch(function(e){return e})}function s(){return e(b.a.API_BASE_URL+"/user/profile/invitations",{headers:{"Content-Type":"application/json-patch+json",Authorization:"Bearer "+localStorage.getItem("token")}}).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){return e})}function c(t,n){return e(b.a.API_BASE_URL+"/user/profile/invitations",{method:"PUT",headers:{"Content-Type":"application/json-patch+json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({invitationId:t,status:n})}).then(function(e){return e.json()}).catch(function(e){return e})}function u(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(h.a)(l,e.link);case 3:return t=n.sent,n.next=6,Object(h.b)(Object(y.f)(t));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(h.b)(Object(y.e)(n.t0));case 12:case"end":return n.stop()}},T,this,[[0,8]])}function l(t){return e(b.a.API_BASE_URL+"/file/"+t,{method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then(function(e){return e.blob()}).then(function(e){return e}).catch(function(e){return e})}function d(e){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(h.a)(p);case 3:return t=e.sent,e.next=6,Object(h.b)(Object(y.m)(t));case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),e.next=12,Object(h.b)(Object(y.l)(e.t0));case 12:case"end":return e.stop()}},C,this,[[0,8]])}function p(){return e(b.a.API_BASE_URL+"/user/profile/notifications/settings",{method:"GET",headers:{"Content-Type":"application/json-patch+json",Authorization:"Bearer "+localStorage.getItem("token")}}).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){return e})}function f(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(h.a)(v,e.notifyType,e.settingType);case 3:return t.next=5,Object(h.b)(Object(y.q)());case 5:t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(0),t.next=11,Object(h.b)(Object(y.p)(t.t0));case 11:case"end":return t.stop()}},w,this,[[0,7]])}function v(t,n){return e(b.a.API_BASE_URL+"/user/profile/notifications/settings",{method:"PUT",headers:{"Content-Type":"application/json-patch+json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({configuringNotification:t,newValue:n})}).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){return e})}function g(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.c)(m.b,o);case 2:return e.next=4,Object(h.c)(m.n,i);case 4:return e.next=6,Object(h.c)(m.h,r);case 6:return e.next=8,Object(h.c)(m.e,u);case 8:return e.next=10,Object(h.c)(m.l,d);case 10:return e.next=12,Object(h.c)(m.q,f);case 12:case"end":return e.stop()}},x,this)}t.a=g;var h=n("./node_modules/redux-saga/es/effects.js"),b=n("./app/config.js"),m=n("./app/containers/NotificationPage/constants.js"),y=n("./app/containers/NotificationPage/actions.js"),S=regeneratorRuntime.mark(o),j=regeneratorRuntime.mark(i),O=regeneratorRuntime.mark(r),T=regeneratorRuntime.mark(u),C=regeneratorRuntime.mark(d),w=regeneratorRuntime.mark(f),x=regeneratorRuntime.mark(g)}).call(t,n("./node_modules/exports-loader/index.js?self.fetch!./node_modules/whatwg-fetch/fetch.js"))},"./app/containers/NotificationPage/selectors.js":function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"a",function(){return a}),n.d(t,"b",function(){return s});var o=n("./node_modules/reselect/es/index.js"),i=function(e){return e.get("notificationPage")},r=function(){return Object(o.a)(i,function(e){return e.get("notifies")})},a=function(){return Object(o.a)(i,function(e){return e.get("invites")})},s=function(){return Object(o.a)(i,function(e){return e.get("needUpdate")})}}});