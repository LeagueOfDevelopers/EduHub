webpackJsonp([6],{"./app/components/AssembledGroupCard/index.js":function(e,o,t){"use strict";function n(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function r(e,o){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||"object"!=typeof o&&"function"!=typeof o?e:o}function s(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function, not "+typeof o);e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(e,o):e.__proto__=o)}var i=t("./node_modules/react/react.js"),a=t.n(i),l=t("./node_modules/prop-types/index.js"),u=(t.n(l),t("./app/globalJS.js")),c=t("./node_modules/antd/lib/index.js"),p=(t.n(c),t("./node_modules/react-router-dom/index.js")),d=(t.n(p),function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(o,t,n,r){var s=o&&o.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&s)for(var a in s)void 0===t[a]&&(t[a]=s[a]);else t||(t=s||{});if(1===i)t.children=r;else if(i>1){for(var l=Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:e,type:o,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}}()),f=function(){function e(e,o){for(var t=0;t<o.length;t++){var n=o[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(o,t,n){return t&&e(o.prototype,t),n&&e(o,n),o}}(),m=d(c.Col,{},void 0,"Участников"),g=d(c.Col,{},void 0,"Оплата"),y=d(c.Col,{},void 0,"Тип"),v=function(e){function o(e){return n(this,o),r(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e))}return s(o,e),f(o,[{key:"render",value:function(){return d(c.Col,{},void 0,d(c.Card,{title:this.props.groupInfo.title,hoverable:!0,className:"group-card"},void 0,d(c.Row,{type:"flex",justify:"space-between",style:{marginBottom:8}},void 0,m,d(c.Col,{},void 0,this.props.groupInfo.memberAmount+"/"+this.props.groupInfo.size)),d(c.Row,{type:"flex",justify:"space-between",style:{marginBottom:8}},void 0,g,d(c.Col,{},void 0,this.props.groupInfo.cost," руб.")),d(c.Row,{type:"flex",justify:"space-between",style:{marginBottom:10}},void 0,y,d(c.Col,{},void 0,Object(u.e)(this.props.groupInfo.groupType))),d(c.Row,{gutter:6,className:"group-tags"},void 0,this.props.groupInfo.tags.map(function(e){return d(p.Link,{to:"/groups?tags="+e.replace("#","*")},e,e)}))))}}]),o}(a.a.PureComponent);v.defaultProps={groupInfo:{title:"",memberAmount:0,size:0,cost:0,groupType:"",tags:[]}},o.a=v},"./app/containers/HomePage/index.js":function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),function(e){function n(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function r(e,o){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||"object"!=typeof o&&"function"!=typeof o?e:o}function s(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function, not "+typeof o);e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(e,o):e.__proto__=o)}function i(e){return{}}t.d(o,"HomePage",function(){return O});var a=t("./node_modules/react/react.js"),l=t.n(a),u=t("./node_modules/prop-types/index.js"),c=(t.n(u),t("./node_modules/react-redux/es/index.js")),p=t("./node_modules/reselect/es/index.js"),d=t("./node_modules/redux/es/index.js"),f=(t("./app/utils/injectSaga.js"),t("./app/utils/injectReducer.js"),t("./app/containers/GroupsPage/selectors.js"),t("./app/containers/GroupsPage/reducer.js"),t("./app/containers/GroupsPage/saga.js"),t("./app/containers/GroupsPage/actions.js"),t("./node_modules/react-router-dom/index.js")),m=(t.n(f),t("./app/globalJS.js")),g=t("./node_modules/antd/lib/index.js"),y=(t.n(g),t("./app/components/UnassembledGroupCard/index.js")),v=t("./app/components/AssembledGroupCard/index.js"),b=t("./app/containers/SigningInForm/index.js"),h=t("./app/config.js"),j=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(o,t,n,r){var s=o&&o.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&s)for(var a in s)void 0===t[a]&&(t[a]=s[a]);else t||(t=s||{});if(1===i)t.children=r;else if(i>1){for(var l=Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:e,type:o,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}}(),I=function(){function e(e,o){for(var t=0;t<o.length;t++){var n=o[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(o,t,n){return t&&e(o.prototype,t),n&&e(o,n),o}}(),x=[{groupInfo:{id:1,title:"cdcvvdsc",size:8,moneyPerUser:600,groupType:"Lfdsv",tags:["fds","sdf"]},numberOfMembers:6}],S=[{groupInfo:{id:2,title:"cdcvvdsc",size:8,moneyPerUser:600,groupType:"Lfdsv",tags:["fds","sdf"],description:"dadasddas"},numberOfMembers:6}],w=j(f.Link,{to:"/groups?formed=false"},void 0,"Расширенный поиск"),C=j(f.Link,{to:"/create_group"},void 0,j(g.Button,{type:"primary",htmlType:"submit"},void 0,"Создать группу")),_=j(f.Link,{to:"/groups?formed=true"},void 0,"Расширенный поиск"),k=j(g.Button,{type:"primary"},void 0,"Стать преподавателем"),O=function(o){function t(o){n(this,t);var s=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o));return s.showLoginForm=function(){s.setState({signInVisible:!0})},s.getGroups=function(){return e(h.a.API_BASE_URL+"/group").then(function(e){return e.json()}).then(function(e){return s.setState({unassembledGroups:e.fillingGroups,assembledGroups:e.fullGroups})}).catch(function(e){return e})},s.handleCancel=function(){s.setState({signInVisible:!1})},s.handleCancel=s.handleCancel.bind(s),s.getGroups=s.getGroups.bind(s),s.showLoginForm=s.showLoginForm.bind(s),s.state={signInVisible:!1,unassembledGroups:[],assembledGroups:[]},s}return s(t,o),I(t,[{key:"componentWillMount",value:function(){localStorage.getItem("token")&&Object(m.k)(localStorage.getItem("token")).exp-parseInt(Date.now()/1e3)<0&&(localStorage.setItem("name",""),localStorage.setItem("avatarLink",""),localStorage.setItem("token",""),location.reload())}},{key:"componentDidMount",value:function(){"true"!==localStorage.getItem("without_server")&&this.getGroups()}},{key:"render",value:function(){var e=this;return localStorage.getItem("token")&&Object(m.k)(localStorage.getItem("token")).exp-parseInt(Date.now()/1e3)>0||!localStorage.getItem("token")?j("div",{style:{height:"calc(100% - 64px)"}},void 0,j(g.Col,{xs:{span:22,offset:1},sm:{span:16,offset:4},style:{marginTop:40}},void 0,j(g.Card,{title:"Группы, которым требуются ученики",bordered:!1,className:"unassembled-groups-list font-size-20"},void 0,"true"===localStorage.getItem("without_server")?j("div",{className:"cards-holder cards-holder-center"},void 0,x.map(function(o){return j("div",{onClick:localStorage.getItem("token")?function(){return location.assign("/group/"+o.groupInfo.id)}:e.showLoginForm},o.groupInfo.id,l.a.createElement(y.a,o))})):j("div",{className:"cards-holder cards-holder-center"},void 0,this.state.unassembledGroups.map(function(o,t){return t<8?j("div",{onClick:localStorage.getItem("token")?function(){return location.assign("/group/"+o.groupInfo.id)}:e.showLoginForm},o.groupInfo.id,l.a.createElement(y.a,o)):null})),j(g.Row,{type:"flex",align:"middle",style:{marginTop:30}},void 0,j(g.Col,{className:"xs-margin-bottom-14",xs:{span:24},md:{span:8},style:{fontSize:16}},void 0,w),localStorage.getItem("token")?j(g.Col,{className:"xs-text-align-left",xs:{span:24},md:{span:16}},void 0,j(g.Col,{style:{display:"inline",fontSize:18,marginRight:"2%"}},void 0,"Не нашли то, что искали?"),C):j(g.Col,{className:"xs-text-align-left",xs:{span:24},md:{span:16}},void 0,j(g.Col,{style:{display:"inline",fontSize:18,marginRight:"2%"}},void 0,"Не нашли то, что искали?"),j(g.Button,{type:"primary",onClick:function(){return e.setState({signInVisible:!0})}},void 0,"Создать группу"))))),j(g.Col,{xs:{span:22,offset:1},sm:{span:16,offset:4},style:{marginTop:20,marginBottom:40}},void 0,j(g.Card,{title:"Группы, которым требуются преподаватели",bordered:!1,className:"assembled-groups-list font-size-20"},void 0,"true"===localStorage.getItem("without_server")?j("div",{className:"cards-holder cards-holder-center"},void 0,S.map(function(o){return j("div",{onClick:localStorage.getItem("token")?function(){return location.assign("/group/"+o.groupInfo.id)}:e.showLoginForm},o.groupInfo.id,l.a.createElement(v.a,o))})):j("div",{className:"cards-holder cards-holder-center"},void 0,this.state.assembledGroups.map(function(o,t){return t<8?j("div",{onClick:localStorage.getItem("token")?function(){return location.assign("/group/"+o.groupInfo.id)}:e.showLoginForm},o.groupInfo.id,l.a.createElement(v.a,o)):null})),j(g.Row,{type:"flex",align:"middle",style:{marginTop:30}},void 0,j(g.Col,{className:"xs-margin-bottom-14",xs:{span:24},md:{span:8},style:{fontSize:16}},void 0,_),localStorage.getItem("token")?"true"!==localStorage.getItem("isTeacher")?j(g.Col,{className:"xs-text-align-left",xs:{span:24},md:{span:16}},void 0,j(g.Col,{style:{display:"inline",fontSize:18,marginRight:"2%"}},void 0,"Уже знаете, чему будете учить?"),j(f.Link,{to:"/profile/"+Object(m.k)(localStorage.getItem("token")).UserId},void 0,k)):null:j(g.Col,{className:"xs-text-align-left",xs:{span:24},md:{span:16}},void 0,j(g.Col,{style:{display:"inline",fontSize:18,marginRight:"2%"}},void 0,"Уже знаете, чему будете учить?"),j(g.Button,{type:"primary",onClick:function(){return e.setState({signInVisible:!0})}},void 0,"Стать преподавателем"))),j(b.a,{visible:this.state.signInVisible,handleCancel:this.handleCancel})))):null}}]),t}(l.a.PureComponent),P=Object(p.b)({}),G=Object(c.b)(P,i);o.default=Object(d.c)(G)(O)}.call(o,t("./node_modules/exports-loader/index.js?self.fetch!./node_modules/whatwg-fetch/fetch.js"))}});